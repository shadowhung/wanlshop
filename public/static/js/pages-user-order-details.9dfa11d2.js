(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-order-details"],{"371c":function(t,e,a){"use strict";a.r(e);var i=a("e189"),s=a("8e31");for(var n in s)"default"!==n&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("c929");var r,o=a("f0c5"),d=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"12bf0da9",null,!1,i["a"],r);e["default"]=d.exports},"8e31":function(t,e,a){"use strict";a.r(e);var i=a("a81a"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},a18e:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.wanl-order .header[data-v-12bf0da9]{width:100%;height:%?180?%;position:relative;background-color:#f72b36}.wanl-order .header .img-bg[data-v-12bf0da9]{width:100%;height:%?180?%}.wanl-order .header .content[data-v-12bf0da9]{width:100%;height:%?180?%;position:absolute;z-index:10;left:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?60?%;box-sizing:border-box}.wanl-order .header .status-text[data-v-12bf0da9]{font-size:%?34?%;line-height:%?34?%;color:#fefefe}.wanl-order .header .reason[data-v-12bf0da9]{font-size:%?24?%;line-height:%?24?%;color:hsla(0,0%,99.6%,.75);padding-top:%?15?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.wanl-order .header .reason-text[data-v-12bf0da9]{padding-right:%?12?%}.wanl-order .header .status-img[data-v-12bf0da9]{width:%?100?%;height:%?100?%;display:block}.wanl-order .lists .shopname[data-v-12bf0da9]{margin:%?25?% %?25?% %?30?% %?25?%}.wanl-order .lists .price>uni-view[data-v-12bf0da9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?40?%}.wanl-order .lists .cu-btn[data-v-12bf0da9]{font-size:%?22?%;padding:0 %?14?%}.cu-list.menu-avatar>.cu-item[data-v-12bf0da9]{height:%?160?%}.cu-list.menu-avatar>.cu-item .content[data-v-12bf0da9]{line-height:1.4}.wanl-order .order .title[data-v-12bf0da9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;justify-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.wanl-order .order .item[data-v-12bf0da9]{display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?30?%}.wanl-order .order .foot[data-v-12bf0da9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;justify-items:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-top:%?25?%;margin-top:%?20?%}.wanl-order .order .foot uni-text[class*="wlIcon-"][data-v-12bf0da9]{color:#0081ff;margin-right:%?10?%;font-size:%?32?%}',""]),t.exports=e},a81a:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var s=i(a("1da1")),n={data:function(){return{orderData:{order_no:"",address:{name:"ロードの中...",mobile:"",address:"",address_name:""},logistics:{context:"",status:"",time:""},statetime:""},logisticsType:!1,infoMore:!1}},onLoad:function(t){this.loadData({id:t.id})},methods:{loadData:function(t){var e=this;return(0,s.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$api.get({url:"/wanlshop/order/getOrderInfo",data:t,success:function(t){if(e.orderData=t,e.logisticsType=!0,0==t.state)e.orderData.statetime="残り時間0";else if(1==t.state){var a=t.createtime+86400*t.config.cancel-Date.parse(new Date)/1e3,i=Math.floor(a/86400),s=Math.floor(a%86400/3600),n=Math.floor(a%86400%3600/60);n>0&&(e.orderData.statetime="残り"+n+"注文を自動的に閉じる"),s>0&&(e.orderData.statetime="残り"+s+"日"+n+"注文を自動的に閉じる"),i>0&&(e.orderData.statetime="残り"+i+"日"+s+"時間"+n+"注文を自動的に閉じる")}else if(2==t.state)e.orderData.statetime="売り手が出荷するのを待っています";else if(3==t.state){a=t.delivertime+86400*t.config.receiving-Date.parse(new Date)/1e3,i=Math.floor(a/86400),s=Math.floor(a%86400/3600),n=Math.floor(a%86400%3600/60);n>0&&(e.orderData.statetime="残り"+n+"領収書を自動的に確認する"),s>0&&(e.orderData.statetime="残り"+s+"日"+n+"領収書を自動的に確認する"),i>0&&(e.orderData.statetime="残り"+i+"日"+s+"時間"+n+"領収書を自動的に確認する")}else if(4==t.state){a=t.taketime+86400*t.config.comment-Date.parse(new Date)/1e3,i=Math.floor(a/86400),s=Math.floor(a%86400/3600),n=Math.floor(a%86400%3600/60);n>0&&(e.orderData.statetime="残り"+n+"自動コメント"),s>0&&(e.orderData.statetime="残り"+s+"日"+n+"自動コメント"),i>0&&(e.orderData.statetime="残り"+i+"日"+s+"時間"+n+"自動コメント")}else 6==t.state?e.orderData.statetime=t.dealtime_text:7==t.state&&(e.orderData.statetime="注文がキャンセルされました")}});case 1:case"end":return a.stop()}}),a)})))()},getImg:function(t){return["img_order_payment3x.png","img_order_send3x.png","img_order_received3x.png","img_order_signed3x.png","img_order_closed3x.png","img_order_signed3x.png","img_order_closed3x.png"][t-1]},getStatusText:function(t){return["あなたがお金を支払いを待つ","お金を支払うことに成功する","入庫予定の貨","評の論を待つ","返金する訂の單","訂の單はすでに完成だ","取引の關の閉"][t-1]},getRefund:function(t){return["返金する","返金する中に","返品するのを待つ","返金する完成","返金して閉める","返金して拒まれる"][t]},onRefund:function(t,e,a,i){0==e?this.$wanlshop.to("/pages/user/refund/apply?data=".concat(JSON.stringify({order_id:this.orderData.id,goods:this.orderData.goods[i],freight_type:this.orderData.freight_type,discount_price:this.orderData.pay.discount_price,goods_number:this.orderData.goods.length}))):this.$wanlshop.to("/pages/user/refund/details?id=".concat(a))},toMore:function(){this.infoMore=!this.infoMore}}};e.default=n},c929:function(t,e,a){"use strict";var i=a("eb4e"),s=a.n(i);s.a},e189:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"edgeInsetTop"}),a("v-uni-view",{staticClass:"wanl-order"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-image",{staticClass:"img-bg",attrs:{src:t.$wanlshop.appstc("/order/img_detail_bg.png")}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",[a("v-uni-view",{staticClass:"status-text"},[t._v(t._s(t.getStatusText(t.orderData.state)))]),a("v-uni-view",{staticClass:"reason"},[a("v-uni-text",{staticClass:"reason-text"},[t._v(t._s(t.orderData.statetime))])],1)],1),a("v-uni-image",{staticClass:"status-img",attrs:{src:t.$wanlshop.appstc("/order/"+t.getImg(t.orderData.state)),mode:"widthFix"}})],1)],1),a("v-uni-view",{staticClass:"address cu-list menu-avatar"},[7!=t.orderData.state&&1!=t.orderData.state&&2!=t.orderData.state&&t.logisticsType?a("v-uni-view",{staticClass:"cu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onLogistics(t.orderData.id)}}},[a("v-uni-view",{staticClass:"cu-avatar round wanl-bg-blue"},[a("v-uni-text",{staticClass:"wlIcon-yunshuzhong"})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",[a("v-uni-text",{staticClass:"text-cut-2 text-sm wanl-pip"},[t._v(t._s(t.orderData.logistics.status)+" - "+t._s(t.orderData.logistics.context))])],1),a("v-uni-view",{staticClass:"wanl-gray"},[a("v-uni-text",{staticClass:"text-sm"},[t._v(t._s(t.orderData.logistics.time))])],1)],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"wlIcon-fanhui2 wanl-gray"})],1)],1):t._e(),a("v-uni-view",{staticClass:"cu-item"},[a("v-uni-view",{staticClass:"cu-avatar round wanl-bg-orange"},[a("v-uni-text",{staticClass:"wlIcon-weizhi1"})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",[a("v-uni-text",{staticClass:"wanl-pip margin-right-sm"},[t._v(t._s(t.orderData.address.name))]),a("v-uni-text",{staticClass:"wanl-gray text-sm"},[t._v(t._s(t.orderData.address.mobile))])],1),a("v-uni-view",{staticClass:"wanl-pip text-cut-2 text-sm"},[t._v(t._s(t.orderData.address.address.replace(/\//g," "))),t.orderData.address.address_name?a("v-uni-text",{staticClass:"margin-left-xs"},[t._v("（"+t._s(t.orderData.address.address_name)+"）近所の")]):t._e()],1)],1)],1)],1),t.orderData.order_no?a("v-uni-view",{staticClass:"lists bg-white"},[a("v-uni-view",{staticClass:"shopname text-sm padding-top-bj",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShop(t.orderData.shop_id)}}},[a("v-uni-text",{staticClass:"wlIcon-dianpu1 margin-right-sm"}),a("v-uni-text",{staticClass:"padding-right-xs wanl-black"},[t._v(t._s(t.orderData.shop.shopname))]),a("v-uni-text",{staticClass:"wlIcon-fanhuigengduo"})],1),a("v-uni-view",{staticClass:"cu-list menu-avatar"},[t._l(t.orderData.goods,(function(e,i){return[a("v-uni-view",{key:e.id+"_0",staticClass:"cu-item"},[a("v-uni-view",{staticClass:"cu-avatar radius",style:{backgroundImage:"url("+t.$wanlshop.oss(e.image,77,77)+")"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onGoods(e.goods_id)}}}),a("v-uni-view",{staticClass:"content",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onGoods(e.goods_id)}}},[a("v-uni-view",{staticClass:"text-cut-2"},[t._v(t._s(e.title))]),a("v-uni-view",{staticClass:"wanl_sku text-min"},[a("v-uni-text",{staticClass:"wanl-gray-dark"},[t._v(t._s(e.difference))])],1)],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-view",{staticClass:"text-orange text-price"},[t._v(t._s(e.price))]),a("v-uni-view",{staticClass:"wanl-gray text-min"},[t._v("x "+t._s(e.number))])],1)],1),a("v-uni-view",{key:e.id+"_1",staticClass:"flex justify-end padding-lr-bj padding-bottom-sm"},[2==t.orderData.state||3==t.orderData.state||4==t.orderData.state||6==t.orderData.state?a("v-uni-button",{staticClass:"cu-btn line-black sm",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onRefund(t.orderData.id,e.refund_status,e.refund_id,i)}}},[t._v(t._s(t.getRefund(e.refund_status)))]):t._e()],1)]}))],2),a("v-uni-view",{staticClass:"price padding-lr-bj padding-bottom-bj text-min"},[a("v-uni-view",[a("v-uni-text",[t._v("商品の合計価格")]),a("v-uni-text",{staticClass:"text-price"},[t._v(t._s(t.orderData.pay.order_price))])],1),a("v-uni-view",[a("v-uni-text",[t._v("運送")]),a("v-uni-text",{staticClass:"text-price"},[t._v(t._s(t.orderData.pay.freight_price))])],1),a("v-uni-view",[a("v-uni-text",[t._v("ディスカウント")]),a("v-uni-text",{staticClass:"text-price"},[t._v(t._s(t.orderData.pay.discount_price))])],1),a("v-uni-view",[a("v-uni-text",[t._v("合計金額")]),a("v-uni-text",{staticClass:"text-price"},[t._v(t._s(t.orderData.pay.price))])],1),0!=t.orderData.pay.actual_payment?a("v-uni-view",{staticClass:"text-sm"},[a("v-uni-text",[t._v("実際の支払い")]),a("v-uni-text",{staticClass:"text-price wanl-orange"},[t._v(t._s(t.orderData.pay.actual_payment))])],1):t._e()],1)],1):t._e(),t.orderData.order_no?a("v-uni-view",{staticClass:"order bg-white margin-top-bj padding-bj"},[a("v-uni-view",{staticClass:"title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toMore.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"text-sm"},[t._v("注文詳細")]),a("v-uni-view",[t.infoMore?a("v-uni-text",{staticClass:"wlIcon-fanhui3"}):a("v-uni-text",{staticClass:"wlIcon-fanhui4"})],1)],1),a("v-uni-view",{staticClass:"text-sm"},[a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"wanl-gray",staticStyle:{width:"160rpx"}},[t._v("注文番号：")]),a("v-uni-text",[t._v(t._s(t.orderData.order_no))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"wanl-gray",staticStyle:{width:"160rpx"}},[t._v("支払い取引番号：")]),a("v-uni-text",[t._v(t._s(t.orderData.pay.pay_no))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"wanl-gray",staticStyle:{width:"160rpx"}},[t._v("作成時間：")]),a("v-uni-text",[t._v(t._s(t.orderData.createtime_text))])],1),t.infoMore?[t.orderData.paymenttime?a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"wanl-gray-dark",staticStyle:{width:"160rpx"}},[t._v("支払い時間：")]),a("v-uni-text",[t._v(t._s(t.orderData.paymenttime_text))])],1):t._e(),t.orderData.delivertime?a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"wanl-gray-dark",staticStyle:{width:"160rpx"}},[t._v("納期：")]),a("v-uni-text",[t._v(t._s(t.orderData.delivertime_text))])],1):t._e(),t.orderData.taketime?a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"wanl-gray-dark",staticStyle:{width:"160rpx"}},[t._v("受領時間：")]),a("v-uni-text",[t._v(t._s(t.orderData.taketime_text))])],1):t._e()]:t._e()],2),a("v-uni-view",{staticClass:"foot solid-top"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChat(t.orderData.shop_id)}}},[a("v-uni-text",{staticClass:"wlIcon-xiaoxizhongxin text-min"}),t._v("販売者に連絡する")],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"edgeInsetBottom"})],1)],1)},n=[]},eb4e:function(t,e,a){var i=a("a18e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("1625956a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);