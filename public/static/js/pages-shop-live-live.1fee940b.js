(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-live-live"],{"0250":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".page[data-v-e03a0386]{position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000}.wanl-live-ready[data-v-e03a0386]{position:fixed;left:0;right:0;top:0;bottom:0;padding-left:%?40?%;padding-right:%?40?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.wanl-live-ready-btn[data-v-e03a0386]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.wanl-live-ready-btn-bg[data-v-e03a0386]{background-color:#f72b36;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:100px;height:%?92?%;width:%?500?%}.wanl-live-ready-btn-text[data-v-e03a0386]{color:#fff;font-size:%?32?%;font-weight:500}.wanl-live-ready-content[data-v-e03a0386]{background-color:rgba(0,0,0,.1);border-radius:%?18?%;padding:%?25?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.wanl-live-ready-content-img[data-v-e03a0386]{position:relative;height:%?200?%;width:%?200?%;border-radius:%?18?%;background-color:#f7f7f7;overflow:hidden;margin-right:%?20?%}.wanl-live-ready-content-img-image[data-v-e03a0386]{height:%?200?%;width:%?200?%}.wanl-live-ready-content-tag[data-v-e03a0386]{position:absolute;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:rgba(0,0,0,.2);height:%?50?%;bottom:0;left:0;right:0}.wanl-live-ready-content-tag-text[data-v-e03a0386]{color:#fff;font-size:%?26?%}.wanl-live-ready-content-title[data-v-e03a0386]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.wanl-live-ready-content-title-input[data-v-e03a0386]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?200?%;color:#fff;font-size:%?30?%}.wanl-live-footer[data-v-e03a0386]{position:absolute;left:0;right:0;bottom:0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?18?%;padding-bottom:%?18?%;padding-left:%?25?%;padding-right:%?25?%}\r\n/* POPUP */.wanl-live-popup[data-v-e03a0386]{background-color:#fff;border-top-left-radius:%?18?%;border-top-right-radius:%?18?%;overflow:hidden}.wanl-live-popup-title[data-v-e03a0386]{position:relative;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?30?%;margin-bottom:%?40?%}.wanl-live-popup-title-text[data-v-e03a0386]{font-size:%?30?%;color:#333;font-weight:500}.wanl-live-popup-list[data-v-e03a0386]{padding-left:%?25?%;padding-right:%?25?%;height:%?800?%}.wanl-live-popup-list-item[data-v-e03a0386]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-bottom:%?25?%}.wanl-live-popup-list-item-img[data-v-e03a0386]{position:relative;width:%?180?%;height:%?180?%;border-top-left-radius:%?12?%;border-top-right-radius:%?12?%;border-bottom-right-radius:%?12?%;border-bottom-left-radius:%?12?%;overflow:hidden;background-color:#f7f7f7;margin-right:%?20?%}.wanl-live-popup-list-item-image[data-v-e03a0386]{width:%?180?%;height:%?180?%}.wanl-live-popup-list-item-img-tag[data-v-e03a0386]{position:absolute;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;top:0;left:0;background-color:rgba(50,50,50,.5);padding-left:%?14?%;padding-right:%?14?%;padding-top:%?2?%;padding-bottom:%?2?%;border-bottom-right-radius:%?12?%}.wanl-live-popup-list-item-img-tag-text[data-v-e03a0386]{color:#fff;font-size:%?24?%}.wanl-live-popup-list-item-subject[data-v-e03a0386]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.wanl-live-popup-list-item-subject-title-text[data-v-e03a0386]{color:#222;font-size:%?28?%;lines:2;text-overflow:ellipsis;\n}.wanl-live-popup-list-item-subject-operation[data-v-e03a0386]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.wanl-live-popup-list-item-subject-operation-price-text[data-v-e03a0386]{color:#f72b36;font-size:%?32?%;font-weight:500}.wanl-live-popup-list-item-subject-operation-button[data-v-e03a0386]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.wanl-live-popup-list-item-subject-operation-button-shopping[data-v-e03a0386]{border-radius:100px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?36?%;height:%?36?%}.wanl-live-popup-list-item-subject-operation-button-shopping-img[data-v-e03a0386]{width:%?36?%;height:%?36?%}\r\n/* 商品 */.wanl-live-footer-bottom_goods[data-v-e03a0386]{position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.wanl-live-footer-bottom_goods-btn[data-v-e03a0386]{height:%?76?%;width:%?76?%}.wanl-live-footer-bottom_goods-tag[data-v-e03a0386]{position:absolute;top:%?-16?%;right:%?12?%;background-color:#f02b57;border-radius:100px;padding-left:%?10?%;padding-right:%?10?%;padding-top:%?2?%;padding-bottom:%?2?%}.wanl-live-footer-bottom_goods-tag-text[data-v-e03a0386]{color:#fff;font-size:%?22?%}\r\n/* 点赞 */.wanl-live-footer-bottom_praise[data-v-e03a0386]{position:relative;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?30?%}.wanl-live-footer-bottom_praise-btn[data-v-e03a0386]{height:%?76?%;width:%?76?%}.wanl-live-footer-bottom_praise-tag[data-v-e03a0386]{position:absolute;top:%?-16?%;left:%?12?%;background-color:#f02b57;border-radius:100px;padding-left:%?6?%;padding-right:%?6?%;padding-top:%?2?%;padding-bottom:%?2?%}.wanl-live-footer-bottom_praise-tag-text[data-v-e03a0386]{color:#fff;font-size:%?22?%}.wanl-live-footer-left[data-v-e03a0386]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.wanl-live-footer-right[data-v-e03a0386]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}\r\n/* 通用 */.wanl-live-footer-bottom[data-v-e03a0386]{background-color:rgba(0,0,0,.2);border-radius:100px;overflow:hidden;width:%?76?%;height:%?76?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:%?30?%}.wanl-live-footer-bottom-img[data-v-e03a0386]{width:%?76?%;height:%?76?%}",""]),t.exports=e},"0698":function(t,e,i){var a=i("0250");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3e90b131",a,!0,{sourceMap:!1,shadowMode:!1})},"06ce":function(t,e,i){var a=i("a611");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("1d876a14",a,!0,{sourceMap:!1,shadowMode:!1})},1576:function(t,e,i){"use strict";var a=i("06ce"),n=i.n(a);n.a},"20f7":function(t,e,i){"use strict";i.r(e);var a=i("f4b0"),n=i("9e61");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("8cd2");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"e03a0386",null,!1,a["a"],r);e["default"]=c.exports},"289f":function(t,e,i){"use strict";i.r(e);var a=i("7f7b"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},3394:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-transition[data-v-50e22640]{-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.fade-in[data-v-50e22640]{opacity:0}.fade-active[data-v-50e22640]{opacity:1}.slide-top-in[data-v-50e22640]{\n\t/* transition-property: transform, opacity; */-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slide-top-active[data-v-50e22640]{-webkit-transform:translateY(0);transform:translateY(0)\n\t/* opacity: 1; */}.slide-right-in[data-v-50e22640]{-webkit-transform:translateX(100%);transform:translateX(100%)}.slide-right-active[data-v-50e22640]{-webkit-transform:translateX(0);transform:translateX(0)}.slide-bottom-in[data-v-50e22640]{-webkit-transform:translateY(100%);transform:translateY(100%)}.slide-bottom-active[data-v-50e22640]{-webkit-transform:translateY(0);transform:translateY(0)}.slide-left-in[data-v-50e22640]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slide-left-active[data-v-50e22640]{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.zoom-in-in[data-v-50e22640]{-webkit-transform:scale(.8);transform:scale(.8)}.zoom-out-active[data-v-50e22640]{-webkit-transform:scale(1);transform:scale(1)}.zoom-out-in[data-v-50e22640]{-webkit-transform:scale(1.2);transform:scale(1.2)}",""]),t.exports=e},4684:function(t,e,i){var a=i("3394");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("46b67a90",a,!0,{sourceMap:!1,shadowMode:!1})},"55f2":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uniTransition:i("68b8").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wanl-live-operator",style:{bottom:t.statusFootHeight+60+"px"}},[i("v-uni-view",{staticClass:"wanl-live-comment"},[i("v-uni-view",{staticClass:"wanl-live-comment-item"},[i("v-uni-scroll-view",{staticClass:"wanl-live-comment-item-scroll",attrs:{"scroll-y":"true","scroll-into-view":t.scrollToView,"scroll-with-animation":!0}},t._l(t.msgList,(function(e,a){return i("div",{key:a,staticClass:"wanl-live-comment-item-scroll-h5",attrs:{id:"msg"+a}},[i("div",{staticClass:"wanl-live-comment-item-tag"},[i("v-uni-text",{staticClass:"mph5-text",class:[t.iscolor(e.form.id)]},[t._v(t._s(e.form.nickname)+"：")]),i("v-uni-text",{staticClass:"mph5-context"},[t._v(t._s(e.text))])],1)])})),0)],1),i("v-uni-view",{staticClass:"wanl-live-comment-empty"})],1),i("uni-transition",{attrs:{"mode-class":["slide-left"],styles:{position:"absolute",left:"0",top:"-60rpx"},show:t.comingShow}},[i("v-uni-view",{staticClass:"wanl-live-coming"},[i("v-uni-text",{staticClass:"wanl-live-coming-text"},[t._v(t._s(t.comingName)+" 他來了他來了~")])],1)],1)],1)},o=[]},"60e5":function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("1da1")),o=a(i("f648")),r=a(i("c166")),s=uni.getSystemInfoSync(),c={components:{wanlLiveHeader:o.default,wanlLiveComment:r.default},data:function(){return{statusBarHeight:s.safeAreaInsets.top,statusFootHeight:s.safeAreaInsets.bottom,screenHeight:s.screenHeight+"px",screenWidth:s.screenWidth+"px",state:0,publish:!0,startTimer:null,liveReady:{content:"哇~直播間上新啦！",image:"",goods_ids:""},liveStatis:{online:0,like:0},liveData:{id:0,liveid:""},shopData:{},goodsData:[],goodsSelected:[]}},onUnload:function(){this.publish=!1,this.pageUnload()},onBackPress:function(){var t=this;this.publish=!1,0==this.liveData.id?this.$wanlshop.back(1):uni.showModal({title:"促す",content:"您確定要結束直播嗎？",success:function(e){e.confirm&&(t.stop(),uni.reLaunch({url:"/pages/page/end_live?id=".concat(t.liveData.id)}))}})},onReady:function(){var t=this;this.loadData(),setTimeout((function(){t.context=uni.createLivePusherContext("livePusher",t),t.context.startPreview()}),100),uni.$on("onLive",this.onSocketLive)},methods:{loadData:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:uni.request({url:"".concat(t.$store.state.common.appUrl.api,"/wanlshop/live/live"),header:{token:t.$store.state.user.token},success:function(e){1==e.data.code?t.shopData=e.data.data:401==e.data.code?uni.navigateTo({url:"/pages/user/auth/name"}):uni.showToast({title:e.data.msg,icon:"none"})}});case 1:case"end":return e.stop()}}),e)})))()},onSocketLive:function(t){var e=this;if(this.liveData.liveid==t.group){if("publish"==t.message.type)uni.hideLoading(),clearTimeout(this.startTimer);else if("publish_done"==t.message.type){if(this.publish)var i=setInterval((function(){e.$wanlshop.msg("網絡狀態不佳"),e.context.resume({success:function(t){clearInterval(i)}})}),1500)}else t.message.type;this.liveStatis.like=t.like,this.liveStatis.online=t.online}},pageUnload:function(){1==this.state&&uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/unload"),data:{group:this.liveData.liveid,type:"rtmp"},header:{token:this.$store.state.user.token}})},upGoodsList:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0==t.goodsData.length&&uni.request({url:"".concat(t.$store.state.common.appUrl.api,"/wanlshop/live/goods"),header:{token:t.$store.state.user.token},success:function(e){t.goodsData=e.data.data}}),t.$refs.listPopup.open();case 2:case"end":return e.stop()}}),e)})))()},upGoods:function(){this.$refs.goodsPopup.open()},chooseImg:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:uni.chooseImage({sourceType:["camera","album"],sizeType:"compressed",count:1,success:function(e){var i=t.$store.state.user.token;uni.request({url:t.$store.state.common.appUrl.api+"/wanlshop/common/uploadData",header:{token:i},success:function(a){uni.uploadFile({url:a.data.data.uploadurl,filePath:e.tempFilePaths[0],formData:a.data.data.multipart,header:{token:i},name:"file",success:function(e){t.liveReady.image=JSON.parse(e.data).data.fullurl}})}})}});case 1:case"end":return e.stop()}}),e)})))()},stcOss:function(t){var e=this.$store.state.common.appUrl.oss,i="";return i=t?/^(http|https):\/\/.+/.test(t)?t:e+t:e+"/assets/addons/wanlshop/img/common/img_default3x.png",i},addGoods:function(t){this.goodsData[t].choose=!this.goodsData[t].choose,this.formatGoods()},delGoods:function(t){this.goodsData.forEach((function(e,i,a){e.id==t&&(e.choose=!1)})),this.formatGoods()},formatGoods:function(){var t=[],e=[];this.goodsData.forEach((function(i,a,n){i.choose&&(t.push(i),e.push(i.id))})),this.goodsSelected=t,this.liveReady.goods_ids=e},cloud:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.state){e.next=3;break}return uni.showToast({title:"首次不需要同步，點擊直播即可",icon:"none"}),e.abrupt("return",!1);case 3:if(0!=t.goodsSelected.length){e.next=7;break}return uni.showToast({title:"商品至少選一個",icon:"none"}),t.upGoodsList(),e.abrupt("return",!1);case 7:uni.showModal({title:"同步商品列表",content:"將把右側選擇的商品同步到直播間",success:function(e){e.confirm&&uni.request({url:"".concat(t.$store.state.common.appUrl.api,"/wanlshop/live/cloud"),data:{id:t.liveData.id,goods_ids:t.liveReady.goods_ids},header:{token:t.$store.state.user.token},success:function(t){1!=t.data.code&&uni.showToast({title:t.data.msg,icon:"none"})}})}});case 8:case"end":return e.stop()}}),e)})))()},startLive:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.liveReady.image,a=t.liveReady.content,t.goodsSelected.length<2?(uni.showToast({title:"直播商品至少2件",icon:"none"}),t.upGoodsList()):i?a?(uni.showLoading({title:"直播啟動中"}),t.startTimer=setTimeout((function(){uni.hideLoading(),t.stop(),t.$wanlshop.msg("回执超时，請检查直播配置")}),1e4),uni.request({url:"".concat(t.$store.state.common.appUrl.api,"/wanlshop/live/startLive"),method:"POST",data:t.liveReady,header:{token:t.$store.state.user.token},success:function(e){0==e.data.code?uni.showToast({title:e.data.msg,icon:"none"}):(t.liveData=e.data.data,t.state=1,setTimeout((function(){t.context.start({success:function(t){}})}),100))}})):uni.showToast({title:"直播標題不能為空",icon:"none"}):uni.showToast({title:"直播封面不能為空",icon:"none"});case 3:case"end":return e.stop()}}),e)})))()},onLike:function(){1==this.state?(this.liveStatis.like+=1,uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/like"),data:{id:this.liveData.id},header:{token:this.$store.state.user.token}})):uni.showToast({title:"直播还没有開始",icon:"none"})},switchCamera:function(){this.context.switchCamera()},numFormat:function(t){return t>9999?(t-t%1e3)/1e4+"万":t},statechange:function(e){t.log("statechange:"+JSON.stringify(e))},netstatus:function(e){t.log("netstatus:"+JSON.stringify(e))},error:function(e){t.log("error:"+JSON.stringify(e))},stop:function(){this.context.stop({success:function(e){t.log(JSON.stringify(e))}})}}};e.default=c}).call(this,i("5a52")["default"])},"64fc":function(t,e,i){"use strict";(function(t){i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"wanlLiveComment",props:{statusFootHeight:{default:0},state:{default:0},liveid:{type:String,default:""},commentData:{type:Object,default:function(){return{}}}},data:function(){return{scrollToView:"",comingShow:!1,comingName:"",watchTimer:null,msgList:[],liveData:{state:0,liveid:""}}},created:function(){var t=this;this.liveData.state=this.state,this.liveData.liveid=this.liveid,uni.$on("onLive",this.updateMsg),setTimeout((function(){t.msgList.push({form:{id:0,nickname:"平台提醒"},text:"請您在拍下时確認購买商品和主播实际描述一致，禁止线下交易，谨防上当受骗！"})}),500)},methods:{updateMsg:function(e){var i=this;if(1==this.liveData.state)if(e.group==this.liveData.liveid){var a=e.message,n=e.form;"msg"!=a.type&&"seek"!=a.type&&"follow"!=a.type&&"like"!=a.type&&"review"!=a.type||(this.msgList.push({form:n,text:a.text}),this.$nextTick((function(){i.scrollToView="msg"+(i.msgList.length-1)}))),"coming"==a.type&&(this.comingShow&&(clearTimeout(this.watchTimer),this.comingShow=!1),this.comingName=n.nickname,this.openComing())}else t.log("其他直播間消息")},openComing:function(){var t=this;this.comingShow=!0,this.watchTimer=setTimeout((function(){t.comingShow=!1}),1e3)},iscolor:function(t){return["text-white","text-orange","text-yellow","text-green","text-olive","text-green","text-purple","text-pink","text-pink","text-purple"][parseInt(t%10)]}}};e.default=a}).call(this,i("5a52")["default"])},"68b8":function(t,e,i){"use strict";i.r(e);var a=i("7ce2"),n=i("9de5");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("c7a4");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"50e22640",null,!1,a["a"],r);e["default"]=c.exports},7997:function(t,e,i){"use strict";var a=i("e684"),n=i.n(a);n.a},"7ce2":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("v-uni-view",{ref:"ani",staticClass:"uni-transition",class:[t.ani.in],style:"transform:"+t.transform+";"+t.stylesObject,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._t("default")],2):t._e()},o=[]},"7f7b":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"wanlLiveHeader",props:{statusBarHeight:{default:0},online:{type:Number,default:0},state:{default:0},isFollow:{type:Boolean,default:!1},userinfo:{type:Object,default:function(){return{}}}},methods:{shopLike:function(){this.$emit("change")},liveBack:function(){uni.navigateBack({delta:1})},toShop:function(t){uni.navigateTo({url:"/pages/shop/shop?id=".concat(t)})},stcOss:function(t){var e=this.$store.state.common.appUrl.oss,i="";return i=t?/^(http|https):\/\/.+/.test(t)?t:e+t:e+"/assets/addons/wanlshop/img/common/img_default3x.png",i},numFormat:function(t){return t>9999?(t-t%1e3)/1e4+"万":t}}};e.default=a},"8cd2":function(t,e,i){"use strict";var a=i("0698"),n=i.n(a);n.a},"96b7":function(t,e,i){"use strict";i.r(e);var a=i("64fc"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"9de5":function(t,e,i){"use strict";i.r(e);var a=i("d6d0"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"9e61":function(t,e,i){"use strict";i.r(e);var a=i("60e5"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},a611:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".wanl-header[data-v-5a59d9ac]{position:absolute;top:0;left:0;right:0;padding-left:%?25?%;padding-right:%?25?%;padding-top:%?4?%;\npadding-top:%?16?%;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;z-index:999}.wanl-header-left[data-v-5a59d9ac]{background-color:rgba(0,0,0,.2);border-radius:999px;overflow:hidden;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-left:%?10?%;padding-top:%?10?%;padding-bottom:%?10?%;padding-right:%?10?%;line-height:1.18}.wanl-header-img[data-v-5a59d9ac]{width:%?60?%;height:%?60?%;border-radius:999px;overflow:hidden}.wanl-header-image[data-v-5a59d9ac]{width:%?60?%;height:%?60?%}.wanl-header-shop[data-v-5a59d9ac]{margin-left:%?15?%;margin-right:%?25?%}.wanl-header-shop-text[data-v-5a59d9ac]{color:#fff;font-size:%?26?%}.wanl-header-shop-info-text[data-v-5a59d9ac]{font-size:%?20?%;color:#fff}.wanl-header-shop-button[data-v-5a59d9ac]{background-color:#f02b57;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?50?%;width:%?100?%;border-radius:100px;margin-right:%?8?%}.wanl-header-shop-button-text[data-v-5a59d9ac]{color:#fff;font-size:%?25?%}.wanl-header-right[data-v-5a59d9ac]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n}.wanl-header-marker[data-v-5a59d9ac]{background-color:rgba(0,0,0,.2);height:%?70?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:%?50?%;border-top-left-radius:%?20?%;border-top-right-radius:%?20?%;border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?20?%;overflow:hidden}.wanl-header-marker-name[data-v-5a59d9ac]{background-color:#fff;height:%?35?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-left:%?10?%;padding-right:%?10?%}.wanl-header-marker-name-text[data-v-5a59d9ac]{font-size:%?20?%}.wanl-header-marker-id[data-v-5a59d9ac]{height:%?35?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.wanl-header-marker-id-text[data-v-5a59d9ac]{font-size:%?20?%;color:#fff}.wanl-header-close[data-v-5a59d9ac]{height:%?32?%;\n}.wanl-header-close-btn[data-v-5a59d9ac]{width:%?32?%;height:%?32?%}",""]),t.exports=e},c166:function(t,e,i){"use strict";i.r(e);var a=i("55f2"),n=i("96b7");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7997");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"9d0d7c66",null,!1,a["a"],r);e["default"]=c.exports},c7a4:function(t,e,i){"use strict";var a=i("4684"),n=i.n(a);n.a},d2d4:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wanl-header",style:{top:t.statusBarHeight+"px"}},[i("v-uni-view",{staticClass:"wanl-header-left"},[i("v-uni-view",{staticClass:"wanl-header-img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toShop(t.userinfo.id)}}},[i("v-uni-image",{staticClass:"wanl-header-image",attrs:{src:t.stcOss(t.userinfo.avatar),mode:""}})],1),i("v-uni-view",{staticClass:"wanl-header-shop",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toShop(t.userinfo.id)}}},[i("v-uni-text",{staticClass:"wanl-header-shop-text"},[t._v(t._s(t.userinfo.shopname?t.userinfo.shopname:"ロードの中.."))]),i("v-uni-view",{staticClass:"wanl-header-shop-info"},[i("v-uni-text",{staticClass:"wanl-header-shop-info-text"},[t._v(t._s(t.numFormat(t.online))+" 人观看")])],1)],1),t.isFollow?t._e():i("v-uni-view",{staticClass:"wanl-header-shop-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shopLike.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"wanl-header-shop-button-text"},[t._v("関心を持つ")])],1)],1),i("v-uni-view",{staticClass:"wanl-header-right"},[i("v-uni-view",{staticClass:"wanl-header-marker"},[i("v-uni-view",{staticClass:"wanl-header-marker-name"},[0==t.state?i("v-uni-text",{staticClass:"wanl-header-marker-name-text"},[t._v("正在准备")]):t._e(),1==t.state?i("v-uni-text",{staticClass:"wanl-header-marker-name-text"},[t._v("商城直播")]):t._e(),2==t.state?i("v-uni-text",{staticClass:"wanl-header-marker-name-text"},[t._v("直播回放")]):t._e()],1),i("v-uni-view",{staticClass:"wanl-header-marker-id"},[i("v-uni-text",{staticClass:"wanl-header-marker-id-text"},[t._v("ID:"+t._s(t.userinfo.id?t.userinfo.id:0))])],1)],1),i("v-uni-view",{staticClass:"wanl-header-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.liveBack.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"wanl-header-close-btn",attrs:{src:"/static/images/live/close.png"}})],1)],1)],1)},o=[]},d6d0:function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("a9e3"),i("ac1f"),i("5319"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5530")),o={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=(0,n.default)((0,n.default)({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var i in t){var a=this.toLine(i);e+=a+":"+t[i]+";"}return e}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var e in clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===e?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[e]," ");this.$nextTick((function(){setTimeout((function(){t._animation(!0)}),50)}))},close:function(t){clearTimeout(this.timer),this._animation(!1)},_animation:function(t){var e=this,i=this.getTranfrom(t);for(var a in this.transform="",i)"opacity"===a?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(i[a]," ");this.timer=setTimeout((function(){t||(e.isShow=!1),e.$emit("change",{detail:e.isShow})}),this.duration)},getTranfrom:function(t){var e={transform:""};return this.modeClass.forEach((function(i){switch(i){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":e.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":e.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":e.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":e.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":e.transform+="scale(".concat(t?1:1.2,") ");break}})),e},_modeClassArr:function(t){var e=this.modeClass;if("string"!==typeof e){var i="";return e.forEach((function(e){i+=e+"-"+t+","})),i.substr(0,i.length-1)}return e+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=o},e684:function(t,e,i){var a=i("eac8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("378a11c8",a,!0,{sourceMap:!1,shadowMode:!1})},eac8:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".wanl-live-operator[data-v-9d0d7c66]{position:absolute;bottom:0;left:0;right:0}.wanl-live-coming[data-v-9d0d7c66]{margin-left:%?25?%;background-color:rgba(255,86,136,.7);padding-top:%?8?%;padding-right:%?16?%;padding-bottom:%?8?%;padding-left:%?16?%;border-radius:%?10?%}.wanl-live-coming-text[data-v-9d0d7c66]{color:#fff;font-size:%?28?%}.wanl-live-comment[data-v-9d0d7c66]{\r\n-webkit-mask:-webkit-gradient(linear,left 30%,left top,from(#000),to(transparent));\r\nmargin-left:%?25?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;position:relative}.wanl-live-comment-empty[data-v-9d0d7c66]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.wanl-live-comment-item[data-v-9d0d7c66]{-webkit-box-flex:2;-webkit-flex:2;flex:2;overflow:hidden;color:#fff}.wanl-live-comment-item-scroll[data-v-9d0d7c66]{\r\nmax-height:%?500?%;min-height:%?60?%;\n}\n.wanl-live-comment-item-scroll-h5[data-v-9d0d7c66]{margin-top:%?6?%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex}.wanl-live-comment-item-scroll-mp[data-v-9d0d7c66]{margin-bottom:%?6?%;overflow:hidden;display:block}.wanl-live-comment-item-tag[data-v-9d0d7c66]{background-color:rgba(0,0,0,.2);padding-top:%?8?%;padding-right:%?16?%;padding-bottom:%?8?%;padding-left:%?16?%;border-radius:%?10?%;overflow:hidden;display:inline-block}\n.wanl-live-comment-item-scroll-app[data-v-9d0d7c66]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-top:%?6?%}.wanl-live-comment-item-scroll-app-item[data-v-9d0d7c66]{background-color:rgba(0,0,0,.2);padding-top:%?8?%;padding-right:%?16?%;padding-bottom:%?8?%;padding-left:%?16?%;border-radius:%?10?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.app-text[data-v-9d0d7c66]{font-size:%?29?%}.app-context[data-v-9d0d7c66]{font-size:%?29?%;color:#fff}.mph5-text[data-v-9d0d7c66]{font-size:%?26?%}.mph5-context[data-v-9d0d7c66]{font-size:%?26?%;color:#fff}.text-white[data-v-9d0d7c66]{color:#fff}.text-orange[data-v-9d0d7c66]{color:#f56f23}.text-yellow[data-v-9d0d7c66]{color:#ffee8a}.text-olive[data-v-9d0d7c66]{color:#7ed321}.text-green[data-v-9d0d7c66]{color:#50e3c2}.text-purple[data-v-9d0d7c66]{color:#9134fc}.text-pink[data-v-9d0d7c66]{color:#ff9fbf}",""]),t.exports=e},f4b0:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"})},o=[]},f648:function(t,e,i){"use strict";i.r(e);var a=i("d2d4"),n=i("289f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("1576");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"5a59d9ac",null,!1,a["a"],r);e["default"]=c.exports}}]);