"use strict";define(["jquery","bootstrap","backend","table","form"],function(e,t,a,r,i){var n={index:function(){r.api.init({extend:{index_url:"wanlshop/brand/index"+location.search,add_url:"wanlshop/brand/add",edit_url:"wanlshop/brand/edit",del_url:"wanlshop/brand/del",multi_url:"",table:"wanlshop_brand"}});var t=e("#table");t.bootstrapTable({url:e.fn.bootstrapTable.defaults.extend.index_url,pk:"id",sortName:"weigh",columns:[[{checkbox:!0},{field:"id",title:__("Id")},{field:"name",title:__("Name"),formatter:r.api.formatter.search},{field:"image",title:__("Image"),events:r.api.events.image,formatter:r.api.formatter.image},{field:"createtime",title:__("Createtime"),operate:"RANGE",addclass:"datetimerange",formatter:r.api.formatter.datetime},{field:"updatetime",title:__("Updatetime"),operate:"RANGE",addclass:"datetimerange",formatter:r.api.formatter.datetime},{field:"state",title:__("State"),searchList:{0:__("State 0"),1:__("State 1")},formatter:r.api.formatter.status},{field:"operate",title:__("Operate"),table:t,events:r.api.events.operate,buttons:[{name:"examine",title:__("审核"),classname:"btn btn-xs btn-primary btn-magic btn-ajax",icon:"fa fa-check",text:"审核",confirm:"确定同意来自商家申请的类目品牌？",url:"wanlshop/brand/examine",visible:function(e){if(0==e.state)return!0},success:function(e,a){return t.bootstrapTable("refresh"),!1},error:function(e,t){return console.log(e,t),Layer.alert(t.msg),!1}}],formatter:r.api.formatter.operate}]]}),r.api.bindevent(t)},recyclebin:function(){r.api.init({extend:{dragsort_url:""}});var t=e("#table");t.bootstrapTable({url:"wanlshop/brand/recyclebin"+location.search,pk:"id",sortName:"id",columns:[[{checkbox:!0},{field:"id",title:__("Id")},{field:"name",title:__("Name"),align:"left"},{field:"deletetime",title:__("Deletetime"),operate:"RANGE",addclass:"datetimerange",formatter:r.api.formatter.datetime},{field:"operate",width:"130px",title:__("Operate"),table:t,events:r.api.events.operate,buttons:[{name:"Restore",text:__("Restore"),classname:"btn btn-xs btn-info btn-ajax btn-restoreit",icon:"fa fa-rotate-left",url:"wanlshop/brand/restore",refresh:!0},{name:"Destroy",text:__("Destroy"),classname:"btn btn-xs btn-danger btn-ajax btn-destroyit",icon:"fa fa-times",url:"wanlshop/brand/destroy",refresh:!0}],formatter:r.api.formatter.operate}]]}),r.api.bindevent(t)},add:function(){n.api.bindevent()},edit:function(){n.api.bindevent()},api:{bindevent:function(){i.api.bindevent(e("form[role=form]"))}}};return n});