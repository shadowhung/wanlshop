(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-auth-validcode"],{"06d2":function(t,e,i){var n=i("b58d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("cf3afe00",n,!0,{sourceMap:!1,shadowMode:!1})},"1a49":function(t,e,i){"use strict";i("99af"),i("a15b"),i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{config:{count:[{index:1,key:"valid-code-input-1"},{index:2,key:"valid-code-input-2"},{index:3,key:"valid-code-input-3"},{index:4,key:"valid-code-input-4"},{index:5,key:"valid-code-input-5"},{index:6,key:"valid-code-input-6"}]},keyboardVisible:!0,currentFocus:1,mobile:"",code:[],style:{inputWidth:"40upx",inputHeight:"100upx"},countdown:60,cTimer:null,event:"",pageroute:""}},onLoad:function(t){this.mobile=t.mobile,this.event=t.event,this.pageroute=t.url,this.sendMessage(),this.startTimer()},methods:{inputCode:function(t){this.code[this.currentFocus-1]=t,6==this.currentFocus&&this.login(),this.currentFocus<=6&&this.currentFocus++},login:function(){var t=this;uni.showLoading(),"resetpwd"==this.event&&(this.$wanlshop.to("resetpwd?mobile=".concat(this.mobile,"&captcha=").concat(this.code.join(""),"&url=").concat(this.pageroute)),uni.hideLoading()),this.event,"mobilelogin"==this.event&&this.$api.post({url:"/wanlshop/user/mobilelogin",data:{mobile:this.mobile,captcha:this.code.join(""),client_id:uni.getStorageSync("wanlshop:chat_client_id")?uni.getStorageSync("wanlshop:chat_client_id"):null},success:function(e){uni.hideLoading(),t.$store.dispatch("user/login",e),t.$store.dispatch("cart/login"),uni.reLaunch({url:decodeURIComponent(t.pageroute)})}}),"register"==this.event&&this.$api.post({url:"/wanlshop/user/register",data:{mobile:this.mobile,captcha:this.code.join(""),client_id:uni.getStorageSync("wanlshop:chat_client_id")?uni.getStorageSync("wanlshop:chat_client_id"):null},success:function(e){uni.hideLoading(),t.$store.dispatch("user/login",e),t.$store.dispatch("cart/login"),t.$store.dispatch("chat/get"),uni.reLaunch({url:decodeURIComponent(t.pageroute)})}}),this.currentFocus=0,this.code=[]},deleteCode:function(){this.currentFocus--,this.code.splice(-1,1)},emptyCode:function(){this.code=[],this.currentFocus=0},hanldeOpenKeyboard:function(){this.keyboardVisible=!0},sendMessage:function(){var t=this;this.$api.get({url:"/wanlshop/sms/send",data:{event:this.event,mobile:this.mobile},loadingTip:"驗證碼發送中...",success:function(e){t.$wanlshop.msg("驗證碼發送成功")}})},startTimer:function(){var t=this;null==this.cTimer&&(this.cTimer=setInterval((function(){t.countdown--,0==t.countdown&&t.clearTimer()}),1e3))},clearTimer:function(){clearInterval(this.cTimer),this.cTimer=null},resend:function(){this.startTimer(),this.code=[],this.currentFocus=0,this.countdown=60,this.sendMessage()}}};e.default=n},"2aed":function(t,e,i){"use strict";i.r(e);var n=i("b172"),a=i("c848");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("53b8");var c,r=i("f0c5"),d=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"1d87d644",null,!1,n["a"],c);e["default"]=d.exports},"52eb":function(t,e,i){"use strict";i.r(e);var n=i("1a49"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"53b8":function(t,e,i){"use strict";var n=i("d1ce"),a=i.n(n);a.a},"55ae":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".numberkeyboard[data-v-1d87d644]{position:fixed;width:100%;bottom:0}.numberkeyboard .title[data-v-1d87d644]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?50?%;background:#f9f9f9}.numberkeyboard .keys[data-v-1d87d644]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.numberkeyboard .keys .key[data-v-1d87d644]{width:%?250?%;height:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-right:1px solid #f5f5f5;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:%?40?%}.numberkeyboard .keys .key[data-v-1d87d644]:nth-child(n + 4){border-top:1px solid #f5f5f5;-webkit-box-sizing:border-box;box-sizing:border-box}.numberkeyboard .keys .key[data-v-1d87d644]:active{background:#ddd}.iPhonex[data-v-1d87d644]{padding-bottom:calc(env(safe-area-inset-bottom) * 1.5);background-color:#f5f5f5}",""]),t.exports=e},"69ab":function(t,e,i){"use strict";var n=i("06d2"),a=i.n(n);a.a},"798e":function(t,e,i){"use strict";i.r(e);var n=i("e40a"),a=i("52eb");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("69ab");var c,r=i("f0c5"),d=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"2503c001",null,!1,n["a"],c);e["default"]=d.exports},b172:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.numberKeyboardPopupVisible,expression:"numberKeyboardPopupVisible"}],staticClass:"numberkeyboard",attrs:{id:"number-keyboard-component"}},[i("v-uni-view",{staticClass:"title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-image",{staticStyle:{width:"30upx",height:"30upx"},attrs:{src:t.$wanlshop.appstc("/common/img_down3x.png")}})],1),i("v-uni-view",{staticClass:"keys"},[t._l(t.config.loop,(function(e){return i("v-uni-view",{key:e.key,staticClass:"key button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.number(e.number)}}},[t._v(t._s(e.number))])})),i("v-uni-view",{staticClass:"key button",staticStyle:{background:"#f5f5f5"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.empty.apply(void 0,arguments)}}},[i("v-uni-image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{src:t.$wanlshop.appstc("/common/img_empty3x.png")}})],1),i("v-uni-view",{staticClass:"key button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.number(0)}}},[t._v("0")]),i("v-uni-view",{staticClass:"key button",staticStyle:{background:"#f5f5f5"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.del.apply(void 0,arguments)}}},[i("v-uni-image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{src:t.$wanlshop.appstc("/common/img_delete3x.png")}})],1)],2),i("v-uni-view",{staticClass:"iPhonex"})],1)},o=[]},b58d:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-2503c001]{background-color:#fff}.wanl-title[data-v-2503c001]{padding-bottom:%?130?%;padding-top:%?170?%;font-size:%?68?%}.wanl-title .titleInfo[data-v-2503c001]{font-size:%?56?%}.wanl-weixin-btn-info[data-v-2503c001]{color:#b8b8b8!important}.auth[data-v-2503c001]{margin:0 %?60?%}.auth-group[data-v-2503c001]{padding:%?1?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-height:%?90?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?25?%}.auth-group uni-input[data-v-2503c001]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?33?%;color:#250f00;padding-right:%?20?%}.auth-group .placeholder[data-v-2503c001]{color:#b3b3b3}.auth-button[data-v-2503c001]{padding:%?25?% 0 %?50?% 0}.auth-button .cu-btn[data-v-2503c001]{height:%?90?%}.text-center[data-v-2503c001]{color:#3f2f21\n}.auth-clause[data-v-2503c001]{font-size:%?25?%;color:#909090}.auth-clause uni-text[data-v-2503c001]{margin:0 %?10?%;color:#ed6d0f}.auth-foot[data-v-2503c001]{position:fixed;width:100%;bottom:0;z-index:1024;padding:0 %?60?%;padding-bottom:calc(env(safe-area-inset-bottom) / 2)}.auth-foot .oauth[data-v-2503c001]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-height:%?160?%;-webkit-justify-content:space-around;justify-content:space-around}.auth-foot .oauth uni-view[data-v-2503c001]{border:%?2?% solid #fcf7e9}.auth-foot .menu[data-v-2503c001]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-bottom:%?100?%;color:#3f2f21;line-height:%?28?%;font-size:%?28?%}.auth-foot uni-text[data-v-2503c001]{width:%?180?%;text-align:center}.auth-foot uni-text[data-v-2503c001]:nth-child(2){border-left:1px solid #ececec}\r\n\r\n/* 驗證碼 */.auth-title[data-v-2503c001]{padding-bottom:%?30?%;padding-top:%?170?%;font-size:%?60?%}.auth-mobile[data-v-2503c001]{color:#9a9a9a;padding-bottom:%?80?%}.auth-mobile uni-text[data-v-2503c001]{margin-left:%?10?%}.codes[data-v-2503c001]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.codes uni-input[data-v-2503c001]{background:#fff;border-bottom:1px solid #c3c3c3;width:%?90?%;height:%?90?%;text-align:center}.codes .input[data-v-2503c001]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;border-bottom:1px solid #c3c3c3;width:%?90?%;height:%?90?%;font-size:%?40?%;font-weight:500;color:#333}.codes .input .shining[data-v-2503c001]{border:1px solid #ed6d0f;height:%?50?%;animation:shining-data-v-2503c001 1s linear infinite;\r\n\t/* 其它瀏覽器兼容性前缀 */-webkit-animation:shining-data-v-2503c001 1s linear infinite;-moz-animation:shining-data-v-2503c001 1s linear infinite;-ms-animation:shining-data-v-2503c001 1s linear infinite;-o-animation:shining-data-v-2503c001 1s linear infinite}.codes .active[data-v-2503c001]{border-bottom:1px solid #ed6d0f;caret-color:#ed6d0f}.oneline-codes uni-input[data-v-2503c001]{text-align:center}.auth-again[data-v-2503c001]{padding-top:%?50?%}.auth-again uni-text[data-v-2503c001]{color:#ed6d0f;margin-right:%?40?%}.auth-again .time[data-v-2503c001]{color:#9a9a9a}@-webkit-keyframes shining-data-v-2503c001{0%{opacity:1}50%{opacity:1}50.01%{opacity:0}100%{opacity:0}}.wlIcon-QQ[data-v-2503c001]{color:#12b8f6}.wlIcon-WeChat[data-v-2503c001]{color:#02dc6b}.wlIcon-WeiBo[data-v-2503c001]{color:#d32820}.wlIcon-Xiaomi[data-v-2503c001]{color:#ff6b00}body.?%PAGE?%[data-v-2503c001]{background-color:#fff}",""]),t.exports=e},c848:function(t,e,i){"use strict";i.r(e);var n=i("cc21"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},cc21:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"WanlKeyboard",props:{open:{type:Boolean,default:!1},color:{type:String,default:"#04BE02"}},data:function(){return{config:{loop:[{number:1,key:"number-1"},{number:2,key:"number-2"},{number:3,key:"number-3"},{number:4,key:"number-4"},{number:5,key:"number-5"},{number:6,key:"number-6"},{number:7,key:"number-7"},{number:8,key:"number-8"},{number:9,key:"number-9"}]},numberKeyboardPopupVisible:this.open}},watch:{numberKeyboardPopupVisible:function(t,e){0==t&&this.$emit("close")},open:function(e,i){t.log(e),this.numberKeyboardPopupVisible=e}},methods:{close:function(){this.numberKeyboardPopupVisible=!1,this.$emit("close")},del:function(){this.$emit("delete")},empty:function(){this.$emit("empty")},number:function(t){this.$emit("number",t)}}};e.default=i}).call(this,i("5a52")["default"])},d1ce:function(t,e,i){var n=i("55ae");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("bf25f81e",n,!0,{sourceMap:!1,shadowMode:!1})},e40a:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={wanlKeyboard:i("2aed").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"auth"},[i("v-uni-view",{staticClass:"auth-title"},[t._v("输入短信驗證碼")]),i("v-uni-view",{staticClass:"auth-mobile"},[t._v("短信驗證碼至"),i("v-uni-text",[t._v(t._s(t.mobile))])],1),i("v-uni-view",{staticClass:"codes"},t._l(t.config.count,(function(e){return i("v-uni-view",{key:e.key},[i("v-uni-view",{staticClass:"input",class:{active:t.currentFocus==e.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hanldeOpenKeyboard.apply(void 0,arguments)}}},[void 0!=t.code[e.index-1]?[t._v(t._s(t.code[e.index-1]))]:[t.currentFocus==e.index?i("v-uni-view",{staticClass:"shining"}):t._e()]],2)],1)})),1),i("v-uni-view",{staticClass:"auth-again"},[t.countdown>0?i("v-uni-text",{staticClass:"time"},[t._v(t._s(t.countdown)+"秒后重新發送")]):t._e(),0==t.countdown?i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resend.apply(void 0,arguments)}}},[t._v("重新發送")]):t._e(),t.countdown<50?i("v-uni-text",[t._v("没有收到驗證碼？")]):t._e()],1)],1),i("wanl-keyboard",{attrs:{open:t.keyboardVisible},on:{number:function(e){arguments[0]=e=t.$handleEvent(e),t.inputCode.apply(void 0,arguments)},delete:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteCode.apply(void 0,arguments)},empty:function(e){arguments[0]=e=t.$handleEvent(e),t.emptyCode.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.keyboardVisible=!1}}})],1)},o=[]}}]);