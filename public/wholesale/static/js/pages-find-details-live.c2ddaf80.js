(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-find-details-live"],{"01cb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"wanlLiveEmpty",props:{screenHeight:{default:0},screenWidth:{default:0},image:{type:String,default:""}},methods:{stcOss:function(t){var e=this.$store.state.common.appUrl.oss,i="";return i=t?/^(http|https):\/\/.+/.test(t)?t:e+t:"",i}}};e.default=a},"0b42":function(t,e,i){"use strict";i.r(e);var a=i("3812"),n=i("cb5f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("f8e8");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"48702e9c",null,!1,a["a"],r);e["default"]=l.exports},"0bdd":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".page[data-v-4f397bbc]{position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000}",""]),t.exports=e},"2d91":function(t,e,i){"use strict";i.r(e);var a=i("8173"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},3066:function(t,e,i){"use strict";i.r(e);var a=i("f849"),n=i("c3be");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("e487");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"16bb04e8",null,!1,a["a"],r);e["default"]=l.exports},"34f2":function(t,e,i){"use strict";i("a9e3"),i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"WanlPlayer",props:{source:{type:String,default:""},vid:{type:String,default:""},playauth:{type:String,default:""},height:{type:String,default:"320px"},width:{type:String,default:"100%"},videoWidth:{type:String,default:"100%"},videoHeight:{type:String,default:"320px"},preload:{type:Boolean,default:!1},cover:{type:String,default:""},isLive:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},rePlay:{type:Boolean,default:!1},useH5Prism:{type:Boolean,default:!1},useFlashPrism:{type:Boolean,default:!1},playsinline:{type:Boolean,default:!1},showBuffer:{type:Boolean,default:!0},skinRes:{type:String,default:""},skinLayout:{type:Array,default:function(){return[]}},controlBarVisibility:{type:String,default:"hover"},showBarTime:{type:String,default:""},extraInfo:{type:String,default:""},enableSystemMenu:{type:Boolean,default:!1},format:{type:String,default:"mp4"},mediaType:{type:String,default:"video"},qualitySort:{type:String,default:"asc"},definition:{type:String,default:""},defaultDefinition:{type:String,default:""},x5_type:{type:String,default:"h5"},x5_fullscreen:{type:Boolean,default:!1},x5_video_position:{type:String,default:"center"},x5_orientation:{type:String,default:"portraint"},x5LandscapeAsFullScreen:{type:String,default:"true"},autoPlayDelay:{type:Number,default:0},autoPlayDelayDisplayText:{type:String,default:"正在转碼，請稍后......"},language:{type:String,default:"zh-cn"},languageTexts:{type:Object,default:function(){return{}}},snapshot:{type:Boolean,default:!1},snapshotWatermark:{type:Object,default:function(){return{}}},useHlsPluginForSafari:{type:Boolean,default:!1},enableStashBufferForFlv:{type:Boolean,default:!1},stashInitialSizeForFlv:{type:Number,default:10},loadDataTimeout:{type:Number,default:20},waitingTimeout:{type:Number,default:60},liveStartTime:{type:String,default:""},liveOverTime:{type:String,default:""},liveTimeShiftUrl:{type:String,default:""},recreatePlayer:{type:Function,default:function(){}},diagnosisButtonVisible:{type:Boolean,default:!0},disableSeek:{type:Boolean,default:!1},encryptType:{type:Number,default:0},progressMarkers:{type:Array,default:function(){return[]}},vodRetry:{type:Number,default:3},liveRetry:{type:Number,default:5},playStyle:{type:String,default:""},aliplayerSdkPath:{type:String,default:"//g.alicdn.com/de/prismplayer/2.8.2/aliplayer-min.js"}},data:function(){return{playerId:"aliplayer_"+Math.random().toString(36).substr(2),scriptTagStatus:0,isReload:!1,instance:null}},created:function(){void 0!==window.Aliplayer?(this.scriptTagStatus=2,this.initAliplayer()):this.insertScriptTag()},mounted:function(){void 0!==window.Aliplayer?(this.scriptTagStatus=2,this.initAliplayer()):this.insertScriptTag()},methods:{insertScriptTag:function(){var t=this,e=document.getElementById("playerScriptTag");if(null===e){e=document.createElement("script"),e.type="text/javascript",e.src=this.aliplayerSdkPath,e.id="playerScriptTag";var i=document.getElementsByTagName("head")[0];i.appendChild(e)}e.loaded?t.scriptTagStatus++:e.addEventListener("load",(function(){t.scriptTagStatus++,e.loaded=!0,t.initAliplayer()})),t.initAliplayer()},initAliplayer:function(){var t=this,e=this;2!==e.scriptTagStatus||null!==e.instance&&!e.reloadPlayer||(e.instance&&e.instance.dispose(),document.querySelector("#"+e.playerId).innerHTML="",e.$nextTick((function(){e.instance=window.Aliplayer({id:e.playerId,source:e.source,vid:e.vid,playauth:e.playauth,width:e.width,height:e.height,videoWidth:e.videoWidth,videoHeight:e.videoHeight,preload:e.preload,cover:e.cover,isLive:e.isLive,autoplay:e.autoplay,rePlay:e.rePlay,useH5Prism:e.useH5Prism,useFlashPrism:e.useFlashPrism,playsinline:e.playsinline,showBuffer:e.showBuffer,skinRes:e.skinRes,skinLayout:e.skinLayout,controlBarVisibility:e.controlBarVisibility,showBarTime:e.showBarTime,extraInfo:e.extraInfo,enableSystemMenu:e.enableSystemMenu,format:e.format,mediaType:e.mediaType,qualitySort:e.qualitySort,definition:e.definition,defaultDefinition:e.defaultDefinition,x5_type:e.x5_type,x5_fullscreen:e.x5_fullscreen,x5_video_position:e.x5_video_position,x5_orientation:e.x5_orientation,x5LandscapeAsFullScreen:e.x5LandscapeAsFullScreen,autoPlayDelay:e.autoPlayDelay,autoPlayDelayDisplayText:e.autoPlayDelayDisplayText,language:e.language,languageTexts:e.languageTexts,snapshot:e.snapshot,snapshotWatermark:e.snapshotWatermark,useHlsPluginForSafari:e.useHlsPluginForSafari,enableStashBufferForFlv:e.enableStashBufferForFlv,stashInitialSizeForFlv:e.stashInitialSizeForFlv,loadDataTimeout:e.loadDataTimeout,waitingTimeout:e.waitingTimeout,liveStartTime:e.liveStartTime,liveTimeShiftUrl:e.liveTimeShiftUrl,liveShiftSource:e.liveShiftSource,recreatePlayer:e.recreatePlayer,diagnosisButtonVisible:e.diagnosisButtonVisible,disableSeek:e.disableSeek,encryptType:e.encryptType,progressMarkers:e.progressMarkers,vodRetry:e.vodRetry,liveRetry:e.liveRetry}),e.instance.on("ready",(function(){t.$emit("ready",e.instance)})),e.instance.on("play",(function(){t.$emit("play",e.instance)})),e.instance.on("pause",(function(){t.$emit("pause",e.instance)})),e.instance.on("ended",(function(){t.$emit("ended",e.instance)})),e.instance.on("liveStreamStop",(function(){t.$emit("liveStreamStop",e.instance)})),e.instance.on("m3u8Retry",(function(){t.$emit("m3u8Retry",e.instance)})),e.instance.on("hideBar",(function(){t.$emit("hideBar",e.instance)})),e.instance.on("waiting",(function(){t.$emit("waiting",e.instance)})),e.instance.on("snapshoted",(function(){t.$emit("snapshoted",e.instance)})),e.instance.on("timeupdate",(function(){t.$emit("timeupdate",e.instance)})),e.instance.on("requestFullScreen",(function(){t.$emit("requestFullScreen",e.instance)})),e.instance.on("cancelFullScreen",(function(){t.$emit("cancelFullScreen",e.instance)})),e.instance.on("error",(function(){t.$emit("error",e.instance)})),e.instance.on("startSeek",(function(){t.$emit("startSeek",e.instance)})),e.instance.on("completeSeek",(function(){t.$emit("completeSeek",e.instance)}))})))},play:function(){this.instance.play()},pause:function(){this.instance.pause()},replay:function(){this.instance.replay()},seek:function(t){this.instance.seek(t)},getCurrentTime:function(){return this.instance.getCurrentTime()},getDuration:function(){return this.instance.getDuration()},getVolume:function(){return this.instance.getVolume()},setVolume:function(t){this.instance.setVolume(t)},loadByUrl:function(t,e){this.instance.loadByUrl(t,e)},setSpeed:function(t){this.instance.setSpeed(t)},setPlayerSize:function(t,e){this.instance.setPlayerSize(t,e)},replayByVidAndPlayAuth:function(t,e,i,a,n,o){this.instance.replayByVidAndPlayAuth(t,e,i,a,n,o)},replayByVidAndAuthInfo:function(t,e){this.instance.replayByVidAndAuthInfo(t,e)},reloaduserPlayInfoAndVidRequestMts:function(t,e){this.instance.reloaduserPlayInfoAndVidRequestMts(t,e)},setSanpshotProperties:function(t,e,i){this.instance.setSanpshotProperties(t,e,i)},setCover:function(t){this.instance.setCover(t)},reloadPlayer:function(){this.isReload=!0,this.initAliplayer(),this.isReload=!1}}};e.default=a},3627:function(t,e,i){"use strict";var a=i("9d5b"),n=i.n(a);n.a},3812:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"prism-player",style:t.playStyle,attrs:{id:t.playerId}})},o=[]},4062:function(t,e,i){"use strict";i.r(e);var a=i("de93"),n=i("908f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d7c6");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0141d798",null,!1,a["a"],r);e["default"]=l.exports},4137:function(t,e,i){"use strict";i.r(e);var a=i("f562"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"4bb2":function(t,e,i){var a=i("79ea");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("a3b59c3e",a,!0,{sourceMap:!1,shadowMode:!1})},"5cac":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"wanlLiveFooter",props:{statusFootHeight:{type:Number,default:0},like:{type:Number,default:0},state:{default:0},goods:{type:Array,default:function(){return[]}}},data:function(){return{message:""}},methods:{onPopup:function(){this.$refs.wanlLivePopup.open()},stcOss:function(t){var e=this.$store.state.common.appUrl.oss,i="";return i=t?/^(http|https):\/\/.+/.test(t)?t:e+t:e+"/assets/addons/wanlshop/img/common/img_default3x.png",i},sendLive:function(t,e){switch(t){case"msg":this.message&&(this.$emit("change",{type:"msg",message:this.message}),this.message=""),uni.hideKeyboard();break;case"like":this.$emit("change",{type:"like"});break;case"seek":this.$emit("change",{type:"seek",key:e}),this.$refs.wanlLivePopup.close();break}},toGoods:function(t){uni.navigateTo({url:"/pages/product/goods?id=".concat(t)}),this.$refs.wanlLivePopup.close()},numFormat:function(t){return t>9999?(t-t%1e3)/1e4+"万":t}}};e.default=a},"5e4b":function(t,e,i){"use strict";i.r(e);var a=i("a182"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"62f4":function(t,e,i){"use strict";var a=i("a697"),n=i.n(a);n.a},"658a":function(t,e,i){var a=i("68fd");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2c50cfca",a,!0,{sourceMap:!1,shadowMode:!1})},"68fd":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".wanl-live-footer[data-v-0141d798]{position:absolute;left:0;right:0;bottom:0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?18?%;padding-bottom:%?18?%}\r\n\t/* 消息按钮 */.wanl-live-footer-bottom_msg[data-v-0141d798]{\r\n-webkit-box-flex:3;-webkit-flex:3;flex:3;\r\n\r\n\r\nmargin-left:%?25?%;margin-right:%?25?%}.wanl-live-footer-bottom_msg_input[data-v-0141d798]{height:%?76?%;background-color:rgba(0,0,0,.2);-webkit-border-radius:100px;border-radius:100px;color:#fff;padding-left:%?25?%;padding-right:%?25?%;font-size:%?28?%}.wanl-live-footer-bottom_msg_input-placeholder[data-v-0141d798]{color:#fff}\r\n\t/* 發送按钮 */.wanl-live-footer-bottom_send[data-v-0141d798]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.wanl-live-footer-bottom_send-btn[data-v-0141d798]{background-color:#f02b57;-webkit-border-radius:100px;border-radius:100px;height:%?50?%;width:%?100?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.wanl-live-footer-bottom_send-btn-text[data-v-0141d798]{color:#fff;font-size:%?28?%}\r\n\t/* 进度條 */.wanl-live-footer-bottom_controll[data-v-0141d798]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fff;-webkit-box-flex:4;-webkit-flex:4;flex:4;z-index:100;position:relative;height:%?76?%;line-height:%?76?%}.wanl-live-footer-bottom_controll-play[data-v-0141d798]{width:%?76?%;height:%?76?%;position:relative}\r\n\t/* 商品 */.wanl-live-footer-bottom_goods[data-v-0141d798]{position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.wanl-live-footer-bottom_goods-btn[data-v-0141d798]{height:%?76?%;width:%?76?%}.wanl-live-footer-bottom_goods-tag[data-v-0141d798]{position:absolute;top:%?-16?%;right:%?12?%;background-color:#f02b57;-webkit-border-radius:100px;border-radius:100px;padding-left:%?10?%;padding-right:%?10?%;padding-top:%?2?%;padding-bottom:%?2?%}.wanl-live-footer-bottom_goods-tag-text[data-v-0141d798]{color:#fff;font-size:%?22?%}\r\n\t/* 点赞 */.wanl-live-footer-bottom_praise[data-v-0141d798]{position:relative;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1}.wanl-live-footer-bottom_praise-btn[data-v-0141d798]{height:%?76?%;width:%?76?%}.wanl-live-footer-bottom_praise-tag[data-v-0141d798]{position:absolute;top:%?-16?%;left:%?12?%;background-color:#f02b57;-webkit-border-radius:100px;border-radius:100px;padding-left:%?6?%;padding-right:%?6?%;padding-top:%?2?%;padding-bottom:%?2?%}.wanl-live-footer-bottom_praise-tag-text[data-v-0141d798]{color:#fff;font-size:%?22?%}\r\n\t/* POPUP */.wanl-live-popup[data-v-0141d798]{background-color:#fff;-webkit-border-top-left-radius:%?18?%;border-top-left-radius:%?18?%;-webkit-border-top-right-radius:%?18?%;border-top-right-radius:%?18?%;overflow:hidden}.wanl-live-popup-title[data-v-0141d798]{position:relative;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?30?%;margin-bottom:%?40?%}.wanl-live-popup-title-text[data-v-0141d798]{font-size:%?30?%;color:#333;font-weight:500}.wanl-live-popup-list[data-v-0141d798]{padding-left:%?25?%;padding-right:%?25?%;\r\n\t\t\r\n\r\n\r\n\t\t\r\nmax-height:%?1000?%;min-height:%?200?%\n}.wanl-live-popup-list-item[data-v-0141d798]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-bottom:%?25?%}.wanl-live-popup-list-item-img[data-v-0141d798]{position:relative;width:%?180?%;height:%?180?%;-webkit-border-top-left-radius:%?12?%;border-top-left-radius:%?12?%;-webkit-border-top-right-radius:%?12?%;border-top-right-radius:%?12?%;-webkit-border-bottom-right-radius:%?12?%;border-bottom-right-radius:%?12?%;-webkit-border-bottom-left-radius:%?12?%;border-bottom-left-radius:%?12?%;overflow:hidden;background-color:#f7f7f7;margin-right:%?20?%}.wanl-live-popup-list-item-image[data-v-0141d798]{width:%?180?%;height:%?180?%}.wanl-live-popup-list-item-img-tag[data-v-0141d798]{position:absolute;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;top:0;left:0;background-color:rgba(50,50,50,.5);padding-left:%?14?%;padding-right:%?14?%;padding-top:%?2?%;padding-bottom:%?2?%;-webkit-border-bottom-right-radius:%?12?%;border-bottom-right-radius:%?12?%}.wanl-live-popup-list-item-img-tag-text[data-v-0141d798]{color:#fff;font-size:%?24?%}.wanl-live-popup-list-item-subject[data-v-0141d798]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.wanl-live-popup-list-item-subject-title[data-v-0141d798]{\r\nwidth:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2\n}.wanl-live-popup-list-item-subject-title-text[data-v-0141d798]{color:#222;font-size:%?28?%;lines:2;text-overflow:ellipsis;\n}.wanl-live-popup-list-item-subject-operation[data-v-0141d798]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.wanl-live-popup-list-item-subject-operation-price-text[data-v-0141d798]{color:#f72b36;font-size:%?32?%;font-weight:500}.wanl-live-popup-list-item-subject-operation-button[data-v-0141d798]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.wanl-live-popup-list-item-subject-operation-button-seek[data-v-0141d798]{margin-right:%?18?%;-webkit-border-radius:100px;border-radius:100px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?54?%;width:%?130?%;border-top-color:#6200ff;border-top-style:solid;border-top-width:1px;border-right-color:#6200ff;border-right-style:solid;border-right-width:1px;border-bottom-color:#6200ff;border-bottom-style:solid;border-bottom-width:1px;border-left-color:#6200ff;border-left-style:solid;border-left-width:1px}.wanl-live-popup-list-item-subject-operation-button-seek-text[data-v-0141d798]{color:#6200ff;font-size:%?27?%}.wanl-live-popup-list-item-subject-operation-button-shopping[data-v-0141d798]{background-color:#f72b36;-webkit-border-radius:100px;border-radius:100px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?54?%;height:%?54?%}.wanl-live-popup-list-item-subject-operation-button-shopping-img[data-v-0141d798]{width:%?36?%;height:%?36?%}",""]),t.exports=e},"6ae6":function(t,e,i){var a=i("0bdd");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("440a638c",a,!0,{sourceMap:!1,shadowMode:!1})},7604:function(t,e,i){"use strict";i.r(e);var a=i("9990"),n=i("4137");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"bfdb0744",null,!1,a["a"],r);e["default"]=l.exports},"79ea":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"@import url(//g.alicdn.com/de/prismplayer/2.8.2/skins/default/aliplayer-min.css);"]),e.push([t.i,".prism-player[data-v-48702e9c]{width:100%;height:100%}",""]),t.exports=e},"7f6f":function(t,e,i){"use strict";var a=i("6ae6"),n=i.n(a);n.a},8173:function(t,e,i){"use strict";var a=i("4ea4");i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("1da1")),o=a(i("0696")),r=a(i("9e70")),s=a(i("3066")),l=a(i("7604")),u=a(i("6399")),c=a(i("4062")),d=uni.getSystemInfoSync(),p=10;p=d.safeAreaInsets.bottom;var f={components:{wanlLiveHeader:o.default,wanlLiveEmpty:r.default,wanlLiveImage:s.default,wanlLivePlay:l.default,wanlLiveComment:u.default,wanlLiveFooter:c.default},data:function(){return{statusBarHeight:d.statusBarHeight,statusFootHeight:p,screenHeight:d.screenHeight,screenWidth:d.screenWidth,playUrl:"",iSstart:!1,liveId:0,liveData:{shop:{id:0,avatar:"",shopname:"加載中.."},state:0,isFollow:!1},liveStatis:{online:1,like:0}}},onUnload:function(){this.pageUnload()},onLoad:function(t){this.liveId=t.id,this.loadData(),uni.$on("onLive",this.onSocketLive);uni.getSystemInfoSync()},methods:{loadData:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:uni.request({url:"".concat(t.$store.state.common.appUrl.api,"/wanlshop/live/play"),data:{id:t.liveId},header:{token:t.$store.state.user.token},success:function(e){if(1==e.data.code){var i=e.data.data;if(t.liveData=i,t.iSstart=!0,t.liveStatis.like=i.like,0==i.state||1==i.state){var a=i.liveurl.split(",");t.playUrl=a[1]}else 2==i.state&&(t.playUrl=i.recordurl)}else uni.showToast({title:e.data.msg,icon:"none"})}});case 1:case"end":return e.stop()}}),e)})))()},onSocketLive:function(t){1==this.liveData.state&&this.liveData.liveid==t.group&&("update"==t.message.type&&(this.liveData.goods=t.message.data),"end"==t.message.type?uni.redirectTo({url:"/pages/page/end_live?id=".concat(this.liveData.id)}):(this.liveStatis.like=t.like,this.liveStatis.online=t.online))},pageUnload:function(){uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/unload"),data:{group:this.liveData.liveid,type:"play"},header:{token:this.$store.state.user.token}})},sendLive:function(t){switch(t.type){case"msg":uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/send"),data:{message:t.message,group:this.liveData.liveid},header:{token:this.$store.state.user.token}});break;case"like":this.liveStatis.like+=1,uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/like"),data:{id:this.liveId},header:{token:this.$store.state.user.token}});break;case"seek":uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/seek"),data:{group:this.liveData.liveid,goods_index:t.key},header:{token:this.$store.state.user.token}});break}},onShopLike:function(){this.liveData.isFollow=!0,uni.request({url:"".concat(this.$store.state.common.appUrl.api,"/wanlshop/live/follow"),data:{id:this.liveData.shop_id,group:this.liveData.liveid},header:{token:this.$store.state.user.token}})}}};e.default=f},"8ab6":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uniTransition:i("23a4").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[i("uni-transition",{attrs:{"mode-class":["fade"],styles:t.maskClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}}),i("uni-transition",{attrs:{"mode-class":t.ani,styles:t.transClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},o=[]},"8bc2":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".wanl-empty[data-v-729ac24a]{position:absolute;left:0;right:0;top:0;bottom:0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.wanl-empty-tag[data-v-729ac24a]{background-color:rgba(255,100,0,.3);height:%?70?%;padding-left:%?20?%;padding-right:%?20?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-border-radius:100px;border-radius:100px}.wanl-empty-text[data-v-729ac24a]{font-size:%?32?%;color:#fff}",""]),t.exports=e},"908f":function(t,e,i){"use strict";i.r(e);var a=i("5cac"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},9500:function(t,e,i){"use strict";i.r(e);var a=i("c00f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},9990:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={wanlPlayer:i("0b42").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{flex:"1"}},[i("wanl-player",{attrs:{autoplay:!0,source:t.source,height:t.screenHeight+"px",videoHeight:t.screenHeight+"px",width:t.screenWidth+"px",videoWidth:"auto",isLive:!0}})],1)},o=[]},"9d5b":function(t,e,i){var a=i("8bc2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3a8b3d31",a,!0,{sourceMap:!1,shadowMode:!1})},"9e70":function(t,e,i){"use strict";i.r(e);var a=i("ece4"),n=i("9500");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("3627");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"729ac24a",null,!1,a["a"],r);e["default"]=l.exports},a182:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("23a4")),o={name:"UniPopup",components:{uniTransition:n.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0)"},transClass:{position:"fixed",left:0,right:0}}},watch:{type:{handler:function(t){switch(this.type){case"top":this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0};break;case"bottom":this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0};break;case"center":this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"};break}},immediate:!0}},created:function(){this.animation?this.duration=300:this.duration=0},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick((function(){clearTimeout(t.timer),t.timer=setTimeout((function(){t.showTrans=!0}),50)})),this.$emit("change",{show:!0})},close:function(t){var e=this;this.showTrans=!1,this.$nextTick((function(){clearTimeout(e.timer),e.timer=setTimeout((function(){e.$emit("change",{show:!1}),e.showPopup=!1}),300)}))},onTap:function(){this.maskClick&&this.close()}}};e.default=o},a46c:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".wanl-image[data-v-16bb04e8]{position:absolute;left:0;right:0;top:0;bottom:0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.wanl-image-image[data-v-16bb04e8]{\r\n-webkit-filter:blur(10px);filter:blur(10px);\r\nbackground-color:#000}",""]),t.exports=e},a697:function(t,e,i){var a=i("cdc3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("374919c4",a,!0,{sourceMap:!1,shadowMode:!1})},a7d4:function(t,e,i){"use strict";i.r(e);var a=i("8ab6"),n=i("5e4b");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("62f4");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"37af1765",null,!1,a["a"],r);e["default"]=l.exports},bb8e:function(t,e,i){var a=i("a46c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5c2dd04e",a,!0,{sourceMap:!1,shadowMode:!1})},c00f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"wanlLiveEmpty",props:{text:{type:String,default:""}}};e.default=a},c3be:function(t,e,i){"use strict";i.r(e);var a=i("01cb"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},cb5f:function(t,e,i){"use strict";i.r(e);var a=i("34f2"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},cdc3:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-popup[data-v-37af1765]{position:fixed;\ntop:var(--window-top);\n\n\nbottom:0;left:0;right:0;\nz-index:99\n}.uni-popup__mask[data-v-37af1765]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0}.mask-ani[data-v-37af1765]{-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-mask[data-v-37af1765]{opacity:1}.uni-bottom-mask[data-v-37af1765]{opacity:1}.uni-center-mask[data-v-37af1765]{opacity:1}.uni-popup__wrapper[data-v-37af1765]{\ndisplay:block;\nposition:absolute}.top[data-v-37af1765]{top:0;left:0;right:0;-webkit-transform:translateY(-500px);transform:translateY(-500px)}.bottom[data-v-37af1765]{bottom:0;left:0;right:0;-webkit-transform:translateY(500px);transform:translateY(500px)}.center[data-v-37af1765]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\nbottom:0;left:0;right:0;top:0;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-37af1765]{\ndisplay:block;\nposition:relative}.content-ani[data-v-37af1765]{\n\t\t/* transition: transform 0.3s;\n */-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-content[data-v-37af1765]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-bottom-content[data-v-37af1765]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-center-content[data-v-37af1765]{-webkit-transform:scale(1);transform:scale(1);opacity:1}",""]),t.exports=e},d7c6:function(t,e,i){"use strict";var a=i("658a"),n=i.n(a);n.a},de93:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("a7d4").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wanl-live-footer",style:{bottom:t.statusFootHeight+"px"}},[i("v-uni-view",{staticClass:"wanl-live-footer-bottom_msg"},[1==t.state?i("v-uni-input",{staticClass:"wanl-live-footer-bottom_msg_input",attrs:{type:"text","confirm-type":"send","placeholder-style":"color:#FFFFFF","placeholder-class":"wanl-live-footer-bottom_msg_input-placeholder",placeholder:"问什么都告诉你~"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendLive("msg")}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}):t._e()],1),1==t.state?i("v-uni-view",{staticClass:"wanl-live-footer-bottom_send"},[i("v-uni-view",{staticClass:"wanl-live-footer-bottom_send-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendLive("msg")}}},[i("v-uni-text",{staticClass:"wanl-live-footer-bottom_send-btn-text"},[t._v("發送")])],1)],1):t._e(),i("v-uni-view",{staticClass:"wanl-live-footer-bottom_goods",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPopup.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"wanl-live-footer-bottom_goods-btn",attrs:{src:"/static/images/live/shop.png",mode:""}}),0!=t.goods.length?i("v-uni-view",{staticClass:"wanl-live-footer-bottom_goods-tag"},[i("v-uni-text",{staticClass:"wanl-live-footer-bottom_goods-tag-text"},[t._v(t._s(t.numFormat(t.goods.length)))])],1):t._e()],1),1==t.state?i("v-uni-view",{staticClass:"wanl-live-footer-bottom_praise",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendLive("like")}}},[i("v-uni-image",{staticClass:"wanl-live-footer-bottom_praise-btn",attrs:{src:"/static/images/live/like.png",mode:""}}),0!=t.like?i("v-uni-view",{staticClass:"wanl-live-footer-bottom_praise-tag"},[i("v-uni-text",{staticClass:"wanl-live-footer-bottom_praise-tag-text"},[t._v(t._s(t.numFormat(t.like)))])],1):t._e()],1):t._e(),i("uni-popup",{ref:"wanlLivePopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"wanl-live-popup"},[i("v-uni-view",{staticClass:"wanl-live-popup-title"},[i("v-uni-text",{staticClass:"wanl-live-popup-title-text"},[t._v("共 "+t._s(t.goods.length)+" 件商品")])],1),i("v-uni-scroll-view",{staticClass:"wanl-live-popup-list",attrs:{"scroll-y":"true"}},t._l(t.goods,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"wanl-live-popup-list-item"},[i("v-uni-view",{staticClass:"wanl-live-popup-list-item-img"},[i("v-uni-image",{staticClass:"wanl-live-popup-list-item-image",attrs:{src:t.stcOss(e.image)}}),i("v-uni-view",{staticClass:"wanl-live-popup-list-item-img-tag"},[i("v-uni-text",{staticClass:"wanl-live-popup-list-item-img-tag-text"},[t._v(t._s(a+1))])],1)],1),i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject"},[i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject-title"},[i("v-uni-text",{staticClass:"wanl-live-popup-list-item-subject-title-text"},[t._v(t._s(e.title))])],1),i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject-operation"},[i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject-operation-price"},[i("v-uni-text",{staticClass:"wanl-live-popup-list-item-subject-operation-price-text"},[t._v("￥"+t._s(e.price))])],1),i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject-operation-button"},[1==t.state?i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject-operation-button-seek",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendLive("seek",a+1)}}},[i("v-uni-text",{staticClass:"wanl-live-popup-list-item-subject-operation-button-seek-text"},[t._v("求讲解")])],1):t._e(),i("v-uni-view",{staticClass:"wanl-live-popup-list-item-subject-operation-button-shopping",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toGoods(e.id)}}},[i("v-uni-image",{staticClass:"wanl-live-popup-list-item-subject-operation-button-shopping-img",attrs:{src:"/static/images/live/cart.png",mode:""}})],1)],1)],1)],1)],1)})),1),i("v-uni-view",{style:{height:t.statusFootHeight+"px"}})],1)],1)],1)},o=[]},e487:function(t,e,i){"use strict";var a=i("bb8e"),n=i.n(a);n.a},ece4:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wanl-empty"},[i("v-uni-view",{staticClass:"wanl-empty-tag"},[i("v-uni-text",{staticClass:"wanl-empty-text"},[t._v(t._s(t.text))])],1)],1)},o=[]},ee38:function(t,e,i){"use strict";i.r(e);var a=i("eea1"),n=i("2d91");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7f6f");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4f397bbc",null,!1,a["a"],r);e["default"]=l.exports},eea1:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("wanl-live-image",{attrs:{screenHeight:t.screenHeight,screenWidth:t.screenWidth,image:t.liveData.image}}),0==t.liveData.state?i("wanl-live-empty",{attrs:{text:"直播正在准备中~"}}):1==t.liveData.state||2==t.liveData.state&&t.playUrl?i("wanl-live-play",{attrs:{screenHeight:t.screenHeight,screenWidth:t.screenWidth,source:t.playUrl}}):i("wanl-live-empty",{attrs:{text:"直播结束，正在转碼~"}}),i("wanl-live-header",{attrs:{statusBarHeight:t.statusBarHeight,isFollow:t.liveData.isFollow,state:t.liveData.state,online:t.liveStatis.online,userinfo:t.liveData.shop},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onShopLike.apply(void 0,arguments)}}}),1==t.liveData.state?i("wanl-live-comment",{attrs:{statusFootHeight:t.statusFootHeight,state:t.liveData.state,liveid:t.liveData.liveid}}):t._e(),i("wanl-live-footer",{attrs:{statusFootHeight:t.statusFootHeight,like:t.liveStatis.like,state:t.liveData.state,goods:t.liveData.goods},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.sendLive(e)}}})],1)},o=[]},f562:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"wanlLivePlay",props:{screenHeight:{default:0},screenWidth:{default:0},source:{type:String,default:""}}};e.default=a},f849:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wanl-image"},[i("v-uni-image",{staticClass:"wanl-image-image",style:{height:t.screenHeight+"px",width:t.screenWidth+"px"},attrs:{"lazy-load":!0,"fade-show":!1,src:t.stcOss(t.image),mode:"aspectFill"}})],1)},o=[]},f8e8:function(t,e,i){"use strict";var a=i("4bb2"),n=i.n(a);n.a}}]);