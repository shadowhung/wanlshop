(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-goods"],{"11b5":function(t,i,a){"use strict";var n=a("4ea4");a("99af"),a("a623"),a("4de4"),a("d81d"),a("13d5"),a("45fc"),a("a9e3"),a("b680"),a("e25e"),a("ac1f"),a("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(a("2909")),s=n(a("b85c"));a("96cf");var o=n(a("1da1")),c=n(a("5530")),l=a("2f62"),u={data:function(){return{TabCur:0,wanlsys:this.$wanlshop.wanlsys(),modalName:null,durect:0,headerOpacity:0,currentSwiper:0,anchorlist:[{name:"主图",top:0},{name:"評价",top:0},{name:"詳情",top:0},{name:"推荐",top:0}],selectAnchor:0,goodsData:{id:0,category_id:0,shop_id:0,brand_id:0,freight_id:0,title:"",image:"",images:"",flag:"",content:"",category_attribute:[],activity:!1,price:null,interval_price:null,market_price:null,sales:0,brand:{},freight:{name:"",isdelivery:1},payment:0,comment:0,praise:0,moderate:0,negative:0,like:0,views:0,status:"",category:{},follow:!0,sku:[],spu:[],promotion:[],coupon:[],comment_list:{data:[],figure:0,tag:[]},shop:{city:""},shop_recommend:{}},reload:!0,likeData:[],current_page:1,last_page:1,status:"loading",contentText:{contentdown:" ",contentrefresh:"正在加載...",contentnomore:"没有更多數據了"},shopItemInfo:{},selectArr:[],subIndex:[],selectshop:{},selectNum:1,isChoice:"",scrollAnimation:0}},onLoad:function(t){this.loadData(t),this.loadlikeData(),this.durect=this.$store.state.statistics.notice.notice+this.$store.state.statistics.notice.order+this.$store.state.statistics.notice.chat+this.$store.state.statistics.order.pay+this.$store.state.statistics.order.delive+this.$store.state.statistics.order.receiving+this.$store.state.statistics.order.evaluate},onPageScroll:function(t){var i=150;t.scrollTop=t.scrollTop>i?150:t.scrollTop,this.headerOpacity=t.scrollTop*(1/i)},onReachBottom:function(){this.current_page>=this.last_page?this.status="noMore":(this.reload=!1,this.current_page=this.current_page+1,this.status="loading",this.loadlikeData())},watch:{selectshop:function(t,i){t.price!=i.price&&this.queryCoupon(t.price)}},computed:(0,c.default)({canCount:function(){return this.subIndex.some((function(t){return-1===t}))}},(0,l.mapState)(["cart","common"])),methods:{loadData:function(t){var i=this;return(0,o.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i.$api.get({url:"/wanlshop/product/goods",data:t,success:function(t){if(t.content=t.content.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(t,a){var n='<img style="display: block; max-width: 100%;" src="'.concat(i.$wanlshop.oss(a,500,0),'">');return n})),0==t.sku.length)t.interval_price=t.price,t.market_price=t.price;else{var a,n=[],e=[],o=(0,s.default)(t.sku);try{for(o.s();!(a=o.n()).done;){var c=a.value;n.push(c.price),e.push(c.market_price)}}catch(v){o.e(v)}finally{o.f()}var l=Math.min.apply(null,n),u=Math.max.apply(null,n),r=Math.max.apply(null,e);t.interval_price=l==u?l:l+"-"+u,t.market_price=Number(r).toFixed(2)}i.goodsData=t,i.goodsData.spu.map((function(t){i.selectArr.push(""),i.subIndex.push(-1)})),i.checkItem(),i.checkInpath(-1),setTimeout((function(){i.calcAnchor()}),1e3)}});case 1:case"end":return a.stop()}}),a)})))()},loadlikeData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$api.get({url:"/wanlshop/product/likes?pages=goods",data:{page:t.current_page},success:function(i){t.likeData=t.reload?i.data:t.likeData.concat(i.data),t.current_page=i.current_page,t.last_page=i.last_page,t.status="more"}});case 1:case"end":return i.stop()}}),i)})))()},queryCoupon:function(t){var i=this;return(0,o.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i.$api.post({url:"/wanlshop/coupon/query",data:{shop_id:i.goodsData.shop_id,goods_id:i.goodsData.id,shop_category_id:i.goodsData.shop_category_id,price:t},success:function(t){i.goodsData.coupon=t}});case 1:case"end":return a.stop()}}),a)})))()},onReceive:function(t){var i=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=i.goodsData.coupon[t],i.$api.post({url:"/wanlshop/coupon/receive",loadingTip:"領取中",data:{id:n.id},success:function(t){n.id=t.id,n.state=!0,i.$wanlshop.msg(t.msg),i.$store.commit("statistics/dynamic",{coupon:i.$store.state.statistics.dynamic.coupon+1})}});case 2:case"end":return a.stop()}}),a)})))()},skuClick:function(t,i,a,n){t.ishow&&(this.selectArr[i]!=t.name?(this.$set(this.selectArr,i,t.name),this.$set(this.subIndex,i,n)):(this.$set(this.selectArr,i,""),this.$set(this.subIndex,i,-1)),this.checkInpath(i),this.selectArr.every((function(t){return""!=t}))&&(this.selectshop=this.shopItemInfo[this.selectArr],this.selectNum=1))},checkInpath:function(t){for(var i=0,a=this.goodsData.spu.length;i<a;i++)if(i!=t)for(var n=this.goodsData.spu[i].item.length,s=0;s<n;s++)if(-1==this.subIndex[i]||s!=this.subIndex[i]){var o=(0,e.default)(this.selectArr);this.$set(o,i,this.goodsData.spu[i].item[s].name);var c=o.filter((function(t){return""!==t&&"undefined"!==typeof t}));this.shopItemInfo.hasOwnProperty(c)?this.$set(this.goodsData.spu[i].item[s],"ishow",!0):this.$set(this.goodsData.spu[i].item[s],"ishow",!1)}},checkItem:function(){var t=this;this.goodsData.sku.reduce((function(i,a){return i.concat(a.difference.reduce((function(i,n){return i.concat(i.map((function(i){return t.shopItemInfo.hasOwnProperty([].concat((0,e.default)(i),[n]))||(t.shopItemInfo[[].concat((0,e.default)(i),[n])]=a),[].concat((0,e.default)(i),[n])})))}),[[]]))}),[[]])},changeNum:function(t){this.selectNum=parseInt(t)},swiperChange:function(t){this.currentSwiper=t.detail.current},showModal:function(t){var i=this;this.isChoice="","share"==t&&"share"!=this.modalName&&setTimeout((function(){i.scrollAnimation=0}),300),this.modalName=t},hideModal:function(t){t?this.showModal(t):this.modalName=null},wanlShare:function(t){t?this.$wanlshop.auth("/pages/user/complaint/complaint?id=".concat(this.goodsData.id,"&type=1")):this.modalName=null},moveHandle:function(){},follow:function(){var t=this;this.goodsData.follow=!this.goodsData.follow,this.goodsData.follow?this.$store.commit("statistics/dynamic",{collection:this.$store.state.statistics.dynamic.collection+1}):this.$store.commit("statistics/dynamic",{collection:this.$store.state.statistics.dynamic.collection-1}),this.$api.post({url:"/wanlshop/product/follow",data:{id:this.goodsData.id},success:function(i){t.goodsData.follow=i}})},toAnchor:function(t){this.selectAnchor=t,uni.pageScrollTo({scrollTop:this.anchorlist[t].top,duration:200})},calcAnchor:function(){var t=this,i=null;i=uni.createSelectorQuery().in(this),i.select("#evaluate").boundingClientRect((function(i){t.anchorlist[1].top=i.top-t.wanlsys.height-45})).exec(),i.select("#details").boundingClientRect((function(i){t.anchorlist[2].top=i.top-t.wanlsys.height-45})).exec(),i.select("#recommend").boundingClientRect((function(i){t.anchorlist[3].top=i.top-t.wanlsys.height-45})).exec()},onTag:function(t){this.$wanlshop.to("/pages/product/comment?id="+this.goodsData.id+"&praise="+this.goodsData.praise+"&tag="+t)},toCart:function(){uni.switchTab({url:"/pages/cart/cart"})},completeSelection:function(){this.canCount?this.$wanlshop.msg("請选择完成规格"):this.ProcessingData()},SubmitData:function(t,i){1==i?this.canCount?this.$wanlshop.msg("請选择完成规格"):(this.isChoice=t,this.ProcessingData()):(this.modalName="option",this.isChoice=t)},ProcessingData:function(){if("addToCart"==this.isChoice)this.$store.dispatch("cart/add",{shop_id:this.goodsData.shop_id,shop_name:this.goodsData.shop.shopname,goods_id:this.goodsData.id,title:this.goodsData.title,number:this.selectNum,image:this.goodsData.image,sku:this.selectshop,sku_id:this.selectshop.id,sum:this.$wanlshop.bcmul(this.selectshop.price,this.selectNum)}),this.$wanlshop.msg("已加購物車");else if("placeOrder"==this.isChoice){var t=[{goods_id:this.goodsData.id,number:this.selectNum,sku_id:this.selectshop.id}];this.$store.state.user.isLogin?uni.redirectTo({url:"/pages/user/order/addorder?type=goods&data=".concat(JSON.stringify(t))}):this.$wanlshop.to("/pages/user/auth/auth")}else this.$wanlshop.msg("數據异常");this.hideModal()},productSearch:function(t){this.$wanlshop.to("/pages/product/search?keywords=".concat(t),"fade-in",100)}}};i.default=u},"130a":function(t,i,a){"use strict";a("a9e3"),a("ac1f"),a("1276"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"UniNumberBox",props:{value:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:0}},watch:{value:function(t){this.inputValue=+t},inputValue:function(t,i){+t!==+i&&this.$emit("change",t)}},created:function(){this.inputValue=+this.value},methods:{_calcValue:function(t){if(!this.disabled){var i=this._getDecimalScale(),a=this.inputValue*i,n=this.step*i;if("minus"===t){if(a-=n,a<this.min*i)return;a>this.max*i&&(a=this.max*i)}else if("plus"===t){if(a+=n,a>this.max*i)return;a<this.min*i&&(a=this.min*i)}this.inputValue=String(a/i)}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var i=t.detail.value;i&&(i=+i,i>this.max?i=this.max:i<this.min&&(i=this.min),this.inputValue=i)}}};i.default=n},2002:function(t,i,a){"use strict";a.r(i);var n=a("11b5"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);i["default"]=e.a},"298a":function(t,i,a){"use strict";var n=a("e112"),e=a.n(n);e.a},"406f":function(t,i,a){"use strict";a.r(i);var n=a("7607"),e=a("4744");for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);a("a106");var o,c=a("f0c5"),l=Object(c["a"])(e["default"],n["b"],n["c"],!1,null,"cdb15b7a",null,!1,n["a"],o);i["default"]=l.exports},4744:function(t,i,a){"use strict";a.r(i);var n=a("ec17"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);i["default"]=e.a},"4e53":function(t,i,a){"use strict";var n;a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return n}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"uni-numbox"},[a("v-uni-view",{staticClass:"uni-numbox__minus",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._calcValue("minus")}}},[a("v-uni-text",{staticClass:"uni-numbox--text wlIcon-jian",class:{"uni-numbox--disabled":t.inputValue<=t.min||t.disabled}})],1),a("v-uni-input",{staticClass:"uni-numbox__value",attrs:{disabled:t.disabled,type:"number"},on:{blur:function(i){arguments[0]=i=t.$handleEvent(i),t._onBlur.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(i){t.inputValue=i},expression:"inputValue"}}),a("v-uni-view",{staticClass:"uni-numbox__plus",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._calcValue("plus")}}},[a("v-uni-text",{staticClass:"uni-numbox--text wlIcon-tianjia",class:{"uni-numbox--disabled":t.inputValue>=t.max||t.disabled}})],1)],1)},s=[]},5187:function(t,i,a){"use strict";a.r(i);var n=a("130a"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);i["default"]=e.a},"542b":function(t,i,a){var n=a("24fb");i=n(!1),i.push([t.i,'@font-face{font-family:rateFont;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAT4AA0AAAAAB4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAE3AAAABoAAAAciBprQUdERUYAAAS8AAAAHgAAAB4AKQALT1MvMgAAAaAAAABDAAAAVj1YSN1jbWFwAAAB+AAAAEIAAAFCAA/qlmdhc3AAAAS0AAAACAAAAAj//wADZ2x5ZgAAAkgAAADwAAABZLMTdXtoZWFkAAABMAAAADAAAAA2FZKISmhoZWEAAAFgAAAAHQAAACQHYgOFaG10eAAAAeQAAAARAAAAEgx6AHpsb2NhAAACPAAAAAwAAAAMAEYAsm1heHAAAAGAAAAAHgAAACABEQBPbmFtZQAAAzgAAAFJAAACiCnmEVVwb3N0AAAEhAAAAC0AAABHLO3vkXjaY2BkYGAA4t2/VF7G89t8ZeBmYQCBm9ZKMnC6ikGMuYXpP5DLwcAEEgUAHPQJOXjaY2BkYGBu+N/AEMPCAALMLQyMDKiABQBQwgLwAAAAeNpjYGRgYGBlcGZgYgABEMkFhAwM/8F8BgAPigFhAAB42mNgZGFgnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDA7PXj17zdzwv4EhhrmBoQEozAiSAwD/YA2wAHjaY2GAABYIrmKoAgACggEBAAAAeNpjYGBgZoBgGQZGBhCwAfIYwXwWBgUgzQKEQP6z1///A8lX//9LSkJVMjCyMcCYDIxMQIKJARUwMgx7AAA/9QiLAAAAAAAAAAAAAABGALJ42mNgZKhiEGNuYfrPoMnAwGimps+ox6jPqKbEz8jHCMLyjHJAmk1czMie0cxInlHMDChrZs6cJyaosI+NlzmU34I/lImPdb+CoHgXCyujIosYtzTfKlYBtlWyuqwKjKwsjNvFTdlkGDnZ1srKrmXjZJRhMxVvZxFgA+rgYI9iYoriV1TYzybAwsDABHeLBIMT0DUg29VBTjEHucvcjtGeUVyOUZ6JaFcybefnZ5HuFdEX6ZVm5uMvniemxuXmzqUmNs+FeOfHCeiKzfPi4vKaJ6YrUCDOIiM8YYKwDIu4OMRbrOtkZdex4vMWACzGM5B42n2QPU4DMRCFn/MHJBJCIKhdUQDa/JQpEyn0CKWjSDbekGjXXnmdSDkBLRUHoOUYHIAbINFyCl6WSZMia+3o85uZ57EBnOMbCv/fJe6EFY7xKFzBETLhKvUX4Rr5XbiOFj6FG9R/hJu4VQPhFi7UGx1U7YS7m9JtywpnGAhXcIon4Sr1lXCN/CpcxxU+hBvUv4SbGONXuIVrZakM4WEwQWCcQWOKDeMCMRwskjIG1qE59GYSzExPN3oRO5s4GyjvV2KXAx5oOeeAKe09t2a+Sif+YMuB1JhuHgVLtimNLiJ0KBtfLJzV3ahzsP2e7ba02L9rgTXH7FENbNT8Pdsz0khsDK+QkjXyMrekElOPaGus8btnKdbzXgiJTrzL9IjHmjR1OvduaeLA4ufyjBx9tLmSPfeoHD5jWQh5v91OxCCKXYY/k9hxGQAAAHjaY2BigAAuMMnIgA5YwaJMjEyMzPzJ+Tk5qcklmfl58WmZOTlcCD4Ak9QKlAAAAAAAAAH//wACAAEAAAAMAAAAFgAAAAIAAQADAAQAAQAEAAAAAgAAAAB42mNgYGBkAIKrS9Q5QPRNayUZGA0AM8UETgAA) format("woff");font-weight:400;font-style:normal}.wanl-icon[data-v-cdb15b7a]{font-family:rateFont!important;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:block}.wanl-icon-collection-fill[data-v-cdb15b7a]:before{content:"\\e6ea"}.wanl-icon-collection[data-v-cdb15b7a]:before{content:"\\e6eb"}.wanl-rate-box[data-v-cdb15b7a]{display:-webkit-inline-flex;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0;padding:0}',""]),t.exports=i},"5aa0":function(t,i,a){"use strict";var n=a("f1834"),e=a.n(n);e.a},7607:function(t,i,a){"use strict";var n;a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return n}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"wanl-rate-class wanl-rate-box",on:{touchmove:function(i){arguments[0]=i=t.$handleEvent(i),t.touchMove.apply(void 0,arguments)}}},[t._l(t.quantity,(function(i,n){return[a("v-uni-view",{key:n+"_0",staticClass:"wanl-icon",class:["wanl-icon-collection"+(t.hollow&&t.current<=n?"":"-fill")],style:{fontSize:t.size+"px",color:t.current-1>=n?t.active:t.normal},attrs:{"data-index":n},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleTap.apply(void 0,arguments)}}})]}))],2)},s=[]},9496:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return n}));var n={wanlRate:a("406f").default,wanlDivider:a("6d02").default,wanlProduct:a("becb").default,uniLoadMore:a("635f").default,wanlDirect:a("985f").default,wanlShare:a("62b0").default,uniNumberBox:a("a806").default},e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"wanl-goods"},[a("v-uni-view",{staticClass:"cu-custom",style:{height:t.wanlsys.height+"px"}},[a("v-uni-view",{staticClass:"cu-bar fixed",style:{height:t.wanlsys.height+"px",paddingTop:t.wanlsys.top+"px"}},[a("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$wanlshop.back(1)}}},[a("v-uni-text",{staticClass:"wlIcon-fanhui1"})],1),a("v-uni-view",{staticClass:"search-form round"},[a("v-uni-text",{staticClass:"wlIcon-sousuo1 text-bold"}),a("v-uni-swiper",{staticClass:"search-swiper placeholder",attrs:{vertical:!0,autoplay:!0,circular:!0,interval:"3000"}},[a("v-uni-swiper-item",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.productSearch("")}}},[t._v("搜索商品、類目")])],1)],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"wlIcon-fenxiangcopy",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("share")}}}),a("v-uni-text",{staticClass:"wlIcon-liebiaomoshi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("menu")}}}),a("v-uni-text",{staticClass:"wlIcon-31gouwuche",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toCart.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"bar-bg solid-bottom",style:{top:t.wanlsys.height+"px",opacity:t.headerOpacity}},[a("v-uni-scroll-view",{staticClass:"nav",attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"flex justify-around text-center"},t._l(t.anchorlist,(function(i,n){return a("v-uni-view",{key:i.name,staticClass:"cu-item ",class:t.selectAnchor==n?"text-orange cur":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toAnchor(n)}}},[t._v(t._s(i.name))])})),1)],1)],1),t.goodsData.isLive?a("v-uni-view",{staticClass:"wan-live",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onLive(t.goodsData.isLive.id)}}},[a("v-uni-view",{staticClass:"tag shadow-blur",style:{top:t.wanlsys.height+47+"px"}},[a("v-uni-view",{staticClass:"text-center"},[a("v-uni-view",{staticClass:"live"},[a("v-uni-view",{staticClass:"wanLive-icon"})],1),a("v-uni-text",{staticClass:"text-white margin-lr-xs"},[t._v("在直播")])],1)],1)],1):t._e()],1)],1),a("v-uni-view",{staticClass:"swiper-box",attrs:{id:"swiper"}},[a("v-uni-swiper",{attrs:{circular:"true",autoplay:"true"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.swiperChange.apply(void 0,arguments)}}},t._l(t.goodsData.images,(function(i,n){return a("v-uni-swiper-item",{key:n},[a("v-uni-image",{attrs:{src:t.$wanlshop.oss(i,400,0),mode:"aspectFill"}})],1)})),1),a("v-uni-view",{staticClass:"indicator"},[t._v(t._s(t.currentSwiper+1)+"/"+t._s(t.goodsData.images.length))])],1),a("v-uni-view",{staticClass:"bg-white"},[a("v-uni-view",{staticClass:"price margin-bottom-sm padding-lr-bj padding-top-bj align-start"},[a("v-uni-view",[a("v-uni-view",{staticClass:"text-price wanl-orange text-xxl margin-right-xs"},[t._v(t._s(t.goodsData.interval_price||"0.00"))]),a("v-uni-view",{staticClass:"text-sm wanl-gray text-dec"},[t._v("市场价"),a("v-uni-text",{staticClass:"text-price margin-left-xs "},[t._v(t._s(t.goodsData.market_price||0))])],1)],1),t.goodsData.follow?a("v-uni-view",{staticClass:"follow wanl-black",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.follow.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"wlIcon-yiguanzhu1 text-red"}),a("v-uni-text",{staticClass:"text-xs"},[t._v("取關")])],1):a("v-uni-view",{staticClass:"follow wanl-black",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.follow.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"wlIcon-gerenguanzhu"}),a("v-uni-text",{staticClass:"text-xs"},[t._v("關註")])],1)],1),a("v-uni-view",{staticClass:"title padding-lr-bj padding-bottom-bj"},[a("v-uni-view",{staticClass:"name wanl-black text-lg"},[1==t.goodsData.shop.isself?a("v-uni-view",{staticClass:"cu-tag radius margin-right-xs sm bg-red"},[t._v("自营")]):t._e(),t._v(t._s(t.goodsData.title||"加載中..."))],1),a("v-uni-view",{staticClass:"share",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("share")}}},[a("v-uni-view",{staticClass:"button wanl-gray-light margin-bottom"},[a("v-uni-text",{staticClass:"wlIcon-fenxiangcopy margin-right-xs"}),a("v-uni-text",{staticClass:"text-sm"},[t._v("分享")])],1)],1)],1),a("v-uni-view",{staticClass:"block text-min padding-lr padding-bottom-bj"},[a("v-uni-view",{staticClass:"wanl-gray"},[a("v-uni-text",{staticClass:"wlIcon-weizhi margin-right-xs"}),t._v(t._s(t.goodsData.shop.city?t.goodsData.shop.city.split("/")[1]:"中国"))],1),a("v-uni-view",{staticClass:"wanl-gray"},[t._v("快递费："),a("v-uni-text",{staticClass:"text-price"},[t._v(t._s(t.goodsData.freight.price))])],1),a("v-uni-view",{staticClass:"wanl-gray"},[t._v("月销"),a("v-uni-text",{staticClass:"margin-left-xs"},[t._v(t._s(t.goodsData.sales))])],1)],1)],1),a("v-uni-view",{staticClass:"promotion text-sm"},[0!=t.goodsData.coupon.length?a("v-uni-view",{staticClass:"item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("coupon")}}},[a("v-uni-view",{staticClass:"label wanl-gray"},[t._v("領券")]),a("v-uni-view",{staticClass:"conten flex "},t._l(t.goodsData.coupon,(function(i,n){return n<2?a("v-uni-view",{key:n,staticClass:"wanl-ticket text-sm"},["reduction"==i.type||"vip"==i.type&&"reduction"==i.usertype?[a("v-uni-view",{staticClass:"ticket-price"},[t._v("￥"+t._s(Number(i.price)))]),a("v-uni-view",{staticClass:"ticket-title"},[a("v-uni-text",[t._v("满"+t._s(Number(i.limit))+"减"+t._s(Number(i.price)))])],1)]:t._e(),"discount"==i.type||"vip"==i.type&&"discount"==i.usertype?[a("v-uni-view",{staticClass:"ticket-price"},[t._v(t._s(Number(i.discount))+"折")]),a("v-uni-view",{staticClass:"ticket-title"},[a("v-uni-text",[t._v("满"+t._s(Number(i.limit))+"打"+t._s(Number(i.discount))+"折")])],1)]:t._e(),"shipping"==i.type?[a("v-uni-view",{staticClass:"ticket-price"},[t._v("包邮")]),a("v-uni-view",{staticClass:"ticket-title"},[a("v-uni-text",[t._v("满"+t._s(Number(i.limit))+"元包邮")])],1)]:t._e()],2):t._e()})),1),a("v-uni-view",{staticClass:"bnt-quan wanl-gray"},[t._v("更多"),a("v-uni-text",{staticClass:"wlIcon-fanhui2 margin-left-xs"})],1)],1):t._e()],1),a("v-uni-view",{staticClass:"choice margin-bottom-bj padding-bj text-sm bg-white"},[a("v-uni-view",{staticClass:"commodity  margin-bottom-bj",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("option")}}},[a("v-uni-view",{staticClass:"opt"},[a("v-uni-view",{staticClass:"title wanl-gray"},[t._v("选择")]),a("v-uni-view",{staticClass:"option"},[a("v-uni-view",{staticClass:"selected"},[t.canCount?a("v-uni-view",[t._v("选择"),t._l(t.goodsData.spu,(function(i,n){return a("v-uni-text",{key:i.id,staticClass:"margin-lr-xs"},[t._v(t._s(i.name))])}))],2):a("v-uni-view",[t._v("已选"),a("v-uni-text",[t._v(t._s(t.selectArr.join(" / ")))])],1)],1),a("v-uni-view",{staticClass:"option-list"},t._l(t.goodsData.spu,(function(i,n){return a("v-uni-view",{key:i.id},[t._l(i.item,(function(i){return 0==n?a("v-uni-text",{key:i.name,staticClass:"cu-tag"},[t._v(t._s(i.name))]):t._e()})),0==n?a("v-uni-text",{staticClass:"cu-tag"},[t._v("更多规格可选")]):t._e()],2)})),1)],1)],1),a("v-uni-view",{staticClass:"text-sm wanl-gray"},[a("v-uni-text",{staticClass:"wlIcon-fanhui2"})],1)],1),a("v-uni-view",{staticClass:"commodity",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("service")}}},[a("v-uni-view",{staticClass:"opt"},[a("v-uni-view",{staticClass:"title wanl-gray text-sm"},[t._v("服务")]),a("v-uni-view",{staticClass:"option"},[a("v-uni-view",{staticClass:"selected"},[t._l(t.goodsData.shop.service_ids,(function(i,n){return n<=2?[0!=n?a("v-uni-text",{key:i.id+"_0",staticClass:"margin-lr-xs"},[t._v("·")]):t._e(),t._v(t._s(i.name))]:t._e()}))],2)],1)],1),a("v-uni-view",{staticClass:"text-min wanl-gray"},[a("v-uni-text",{staticClass:"wlIcon-fanhui2"})],1)],1)],1),a("v-uni-view",{staticClass:"choice margin-bottom-bj padding-bj text-sm bg-white"},[a("v-uni-view",{staticClass:"commodity",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("attribute")}}},[a("v-uni-view",{staticClass:"opt"},[a("v-uni-view",{staticClass:"title wanl-gray text-sm"},[t._v("參數")]),a("v-uni-view",{staticClass:"option"},[a("v-uni-view",{staticClass:"selected"},[a("v-uni-text",[t._v("品牌、规格等...")])],1)],1)],1),a("v-uni-view",{staticClass:"text-min wanl-gray"},[a("v-uni-text",{staticClass:"wlIcon-fanhui2"})],1)],1)],1),a("v-uni-view",{staticClass:"comment margin-bottom-bj padding-bj bg-white",attrs:{id:"evaluate"}},[a("v-uni-view",{staticClass:"head",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("")}}},[a("v-uni-view",[t._v("宝贝評論("+t._s(t.goodsData.comment)+")")]),a("v-uni-view",{staticClass:"wanl-gray wanl-orange"},[t._v(t._s(t.goodsData.comment>0?parseInt(t.goodsData.praise/t.goodsData.comment*100):0)+"%好評率"),a("v-uni-text",{staticClass:"wlIcon-fanhui2 margin-left-xs"})],1)],1),a("v-uni-view",{staticClass:"label margin-bottom padding-bottom solid-bottom"},[a("v-uni-view",{staticClass:"cu-tag round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("good")}}},[t._v("好評 ("+t._s(t.goodsData.praise)+")")]),a("v-uni-view",{staticClass:"cu-tag round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("pertinent")}}},[t._v("中評 ("+t._s(t.goodsData.moderate)+")")]),a("v-uni-view",{staticClass:"cu-tag round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("poor")}}},[t._v("差評 ("+t._s(t.goodsData.negative)+")")]),a("v-uni-view",{staticClass:"cu-tag round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("figure")}}},[t._v("有图 ("+t._s(t.goodsData.comment_list.figure)+")")]),t._l(t.goodsData.comment_list.tag,(function(i,n){return a("v-uni-view",{key:n,staticClass:"cu-tag round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag(n)}}},[t._v(t._s(n)+" ("+t._s(i)+")")])}))],2),t._l(t.goodsData.comment_list.data,(function(i,n){return a("v-uni-view",{key:i.id,staticClass:"user",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("")}}},[a("v-uni-view",{staticClass:"userinfo"},[a("v-uni-view",{staticClass:"avatar"},[a("v-uni-view",{staticClass:"cu-avatar sm round margin-right-xs",style:{backgroundImage:"url("+t.$wanlshop.oss(i.user.avatar,26,26,2,"avatar")+")"}}),a("v-uni-view",{staticClass:"text-sm wanl-gray"},[t._v(t._s(i.user.nickname))])],1),a("wanl-rate",{attrs:{current:i.score,disabled:!0}})],1),a("v-uni-view",{staticClass:"details text-min"},[a("v-uni-view",{staticClass:"margin-bottom-sm"},[t._v(t._s(i.content))]),a("v-uni-view",{staticClass:"wanl-gray"},[t._v("规格："+t._s(i.suk))])],1),0!=i.images.length?a("v-uni-view",{staticClass:"grid flex-sub grid-square",class:[i.images.length>3?"col-3":"col-"+i.images.length]},t._l(i.images,(function(i,n){return n<=3?a("v-uni-view",{key:n,staticClass:"bg-img",style:{backgroundImage:"url("+t.$wanlshop.oss(i,88,88)+")"}}):t._e()})),1):t._e()],1)})),a("v-uni-view",{staticClass:"more",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onTag("")}}},[a("v-uni-text",{staticClass:"wanl-gray text-sm"},[t._v("查看全部")]),a("v-uni-text",{staticClass:"wlIcon-fanhui4 margin-left-xs"})],1)],2),a("v-uni-view",{staticClass:"shop padding-bj solid-bottom bg-white"},[a("v-uni-view",{staticClass:"shopinfo margin-bottom"},[a("v-uni-view",{staticClass:"cu-avatar lg radius-bock",style:{backgroundImage:"url("+t.$wanlshop.oss(t.goodsData.shop.avatar,52,52,2,"avatar")+")"}}),a("v-uni-view",{staticClass:"shopname"},[a("v-uni-view",{staticClass:"text-df"},[t._v(t._s(t.goodsData.shop.shopname))]),a("v-uni-view",{staticClass:"wanl-gray text-min"},[t._v(t._s(t.$wanlshop.toFormat(t.goodsData.shop.like,"thousand"))+" 人關註店鋪")])],1),a("v-uni-view",{staticClass:"bnt"},[a("v-uni-button",{staticClass:"cu-btn round line-orange margin-right-sm",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onShop(t.goodsData.shop_id,3)}}},[t._v("全部宝贝")]),a("v-uni-button",{staticClass:"cu-btn round bg-gradual-orange",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onShop(t.goodsData.shop_id)}}},[t._v("进店逛逛")])],1)],1),a("v-uni-view",{staticClass:"quality wanl-gray text-min"},[a("v-uni-view",[t._v("宝贝描述"),a("v-uni-text",{},[t._v(t._s(t.goodsData.shop.score_describe))]),t.goodsData.shop.score_describe<4.7?a("v-uni-view",{staticClass:"cu-tag round di"},[t._v("低")]):a("v-uni-view",{staticClass:"cu-tag round gao"},[t._v("高")])],1),a("v-uni-view",[t._v("卖家服务"),a("v-uni-text",{staticClass:"wanl-orange"},[t._v(t._s(t.goodsData.shop.score_service))]),t.goodsData.shop.score_service<4.7?a("v-uni-view",{staticClass:"cu-tag round di"},[t._v("低")]):a("v-uni-view",{staticClass:"cu-tag round gao"},[t._v("高")])],1),a("v-uni-view",[t._v("物流服务"),a("v-uni-text",{staticClass:"wanl-orange"},[t._v(t._s(t.goodsData.shop.score_logistics))]),t.goodsData.shop.score_logistics<4.7?a("v-uni-view",{staticClass:"cu-tag round di"},[t._v("低")]):a("v-uni-view",{staticClass:"cu-tag round gao"},[t._v("高")])],1)],1)],1),a("v-uni-view",{staticClass:"shop-recom padding-bj bg-white"},[a("v-uni-view",{staticClass:"head"},[a("v-uni-view",{},[t._v("店铺推荐")]),a("v-uni-view",{staticClass:"text-sm wanl-orange",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onShop(t.goodsData.shop_id,1)}}},[t._v("查看全部"),a("v-uni-text",{staticClass:"wlIcon-fanhui2 margin-left-xs"})],1)],1),a("v-uni-view",{staticClass:"recommend margin-bottom-xs"},t._l(t.goodsData.shop_recommend,(function(i,n){return a("v-uni-view",{key:i.id,staticClass:"item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onGoods(i.id)}}},[a("v-uni-image",{attrs:{src:t.$wanlshop.oss(i.image,125,120),mode:"aspectFill"}}),a("v-uni-view",{staticClass:"text-sm margin-tb-xs text-cut"},[t._v(t._s(i.title))]),a("v-uni-view",{staticClass:"text-price wanl-orange text-df"},[t._v(t._s(i.price))])],1)})),1)],1),a("wanl-divider",{attrs:{width:"60%"}},[t._v("产品詳情")]),a("v-uni-view",{staticClass:"wanl-goods-content bg-white",attrs:{id:"details"}},[a("v-uni-rich-text",{attrs:{nodes:t.goodsData.content}})],1),a("wanl-divider",{attrs:{width:"60%"}},[t._v("推荐商品")]),a("v-uni-view",{attrs:{id:"recommend"}},[a("wanl-product",{attrs:{dataList:t.likeData}})],1),a("uni-load-more",{attrs:{status:t.status,"content-text":t.contentText}}),a("v-uni-view",{staticClass:"safeAreaBottom"}),a("v-uni-view",{staticClass:"WANL-MODAL text-sm",on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.moveHandle.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-modal top-modal",class:"menu"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"wanl-modal-menu cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("wanl-direct",{on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"promotion"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("v-uni-view",{staticClass:"wanl-modal"},[a("v-uni-view",{staticClass:"head padding-bj"},[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-lg"},[t._v("促销")])],1),a("v-uni-view",{staticClass:"close wlIcon-31guanbi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}})],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"coupon"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog bg-bgcolor",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("v-uni-view",{staticClass:"wanl-modal"},[a("v-uni-view",{staticClass:"head padding-bj"},[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-lg"},[t._v("優惠券")])],1),a("v-uni-view",{staticClass:"close wlIcon-31guanbi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}})],1),a("v-uni-scroll-view",{staticClass:"wanl-coupon scroll-y",attrs:{"scroll-y":"true"}},t._l(t.goodsData.coupon,(function(i,n){return a("v-uni-view",{key:n,staticClass:"item margin-bottom-bj radius-bock",class:i.type},[a("v-uni-image",{staticClass:"coupon-bg",attrs:{src:t.$wanlshop.appstc("/coupon/bg_coupon_3x.png")}}),i.state?a("v-uni-image",{staticClass:"coupon-sign",attrs:{src:t.$wanlshop.appstc("/coupon/img_couponcentre_received_3x.png")}}):t._e(),a("v-uni-view",{staticClass:"item-left"},["reduction"==i.type||"vip"==i.type&&"reduction"==i.usertype?[a("v-uni-view",{staticClass:"colour"},[a("v-uni-text",{staticClass:"text-price"}),a("v-uni-text",{staticClass:"prices"},[t._v(t._s(Number(i.price)))])],1),a("v-uni-view",{staticClass:"cu-tag wanl-gray-dark radius text-sm bg-white"},[t._v("满"+t._s(Number(i.limit))+"减"+t._s(Number(i.price)))])]:t._e(),"discount"==i.type||"vip"==i.type&&"discount"==i.usertype?[a("v-uni-view",{staticClass:"colour"},[a("v-uni-text",{staticClass:"prices"},[t._v(t._s(Number(i.discount)))]),a("v-uni-text",{staticClass:"discount"},[t._v("折")])],1),a("v-uni-view",{staticClass:"cu-tag wanl-gray-dark radius text-sm bg-white"},[t._v("满"+t._s(Number(i.limit))+"打"+t._s(Number(i.discount))+"折")])]:t._e(),"shipping"==i.type?[a("v-uni-view",{staticClass:"colour"},[a("v-uni-text",{staticClass:"prices"},[t._v("包邮")])],1),a("v-uni-view",{staticClass:"cu-tag wanl-gray-dark radius text-sm bg-white"},[t._v("满"+t._s(Number(i.limit))+"元包邮")])]:t._e()],2),a("v-uni-view",{staticClass:"item-right padding-bj"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"cu-tag sm radius margin-right-xs tagstyle"},[t._v(t._s(i.type_text))]),a("v-uni-text",{staticClass:"text-cut wanl-gray text-min"},[t._v(t._s(i.name))])],1),a("v-uni-view",{staticClass:"content text-min"},[a("v-uni-view",{staticClass:"wanl-gray"},["-1"!=i.grant?a("v-uni-view",[a("v-uni-text",{staticClass:"wlIcon-dot"}),t._v("目前僅剩余 "+t._s(i.surplus)+" 张")],1):t._e(),0!=i.drawlimit?a("v-uni-view",[a("v-uni-text",{staticClass:"wlIcon-dot"}),t._v("每人僅限領取 "+t._s(i.drawlimit)+" 张")],1):t._e(),"fixed"==i.pretype?[a("v-uni-view",[a("v-uni-text",{staticClass:"wlIcon-dot"}),t._v("生效 "+t._s(i.startdate))],1),a("v-uni-view",[a("v-uni-text",{staticClass:"wlIcon-dot"}),t._v("结束 "+t._s(i.enddate))],1)]:t._e(),"appoint"==i.pretype?[0==i.validity?a("v-uni-view",[a("v-uni-text",{staticClass:"wlIcon-dot"}),t._v("未使用前 永久 有效")],1):a("v-uni-view",[a("v-uni-text",{staticClass:"wlIcon-dot"}),t._v("領取后 "+t._s(i.validity)+" 天有效")],1)]:t._e()],2),i.state?t._e():a("v-uni-view",{staticClass:"cu-btn sm round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onReceive(n)}}},[a("v-uni-text",[t._v("立即領取")])],1)],1)],1)],1)})),1),a("v-uni-view",{staticClass:"foot padding-lr-bj"},[a("v-uni-button",{staticClass:"cu-btn bg-gradual-orange round text-bold complete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[t._v("完成")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"attribute"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("v-uni-view",{staticClass:"wanl-modal"},[a("v-uni-view",{staticClass:"head padding-bj"},[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-lg"},[t._v("产品參數")])],1)],1),a("v-uni-scroll-view",{staticClass:"scroll-y",attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"table solid-bottom"},[a("v-uni-view",{staticClass:"name wanl-gray"},[t._v("品牌")]),a("v-uni-view",{staticClass:"value"},[t._v(t._s(t.goodsData.brand.name))])],1),t._l(t.goodsData.category_attribute,(function(i,n){return a("v-uni-view",{key:n,staticClass:"table solid-bottom"},[a("v-uni-view",{staticClass:"name wanl-gray"},[t._v(t._s(n))]),a("v-uni-view",{staticClass:"value"},[t._v(t._s(i))])],1)}))],2),a("v-uni-view",{staticClass:"foot padding-lr-bj"},[a("v-uni-button",{staticClass:"cu-btn bg-gradual-orange round text-bold complete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[t._v("完成")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"share"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("wanl-share",{attrs:{scrollAnimation:t.scrollAnimation,shareTitle:t.goodsData.title,shareText:t.goodsData.description,image:t.$wanlshop.oss(t.goodsData.image,50,50),href:t.common.appConfig.domain+"/pages/product/goods?id="+t.goodsData.id+"&QRtype=goods",isReport:!0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.wanlShare.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"service"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("v-uni-view",{staticClass:"wanl-modal"},[a("v-uni-view",{staticClass:"head padding-bj"},[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-lg"},[t._v("基础服务保障")])],1)],1),a("v-uni-view",{staticClass:"listbox padding-bj"},t._l(t.goodsData.shop.service_ids,(function(i,n){return a("v-uni-view",{key:i.id},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(i.name)),a("v-uni-text",{staticClass:"wlIcon-fuwuxing"})],1),a("v-uni-view",{staticClass:"description wanl-gray text-min"},[t._v(t._s(i.description))])],1)})),1),a("v-uni-view",{staticClass:"foot padding-lr-bj"},[a("v-uni-button",{staticClass:"cu-btn bg-gradual-orange round text-bold complete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[t._v("完成")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"option"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("v-uni-view",{staticClass:"option wanl-modal"},[a("v-uni-view",{staticClass:"head text-left padding-bj solid-bottom"},[a("v-uni-view",{staticClass:"cu-avatar radius-bock margin-right",style:{backgroundImage:"url("+t.$wanlshop.oss(t.goodsData.image,100,100)+")"}}),a("v-uni-view",{},[a("v-uni-view",{staticClass:"text-price wanl-orange text-xl"},[t._v(t._s(t.selectshop.price||t.goodsData.interval_price))]),a("v-uni-view",{staticClass:"wanl-gray"},[t._v("库存"),a("v-uni-text",{staticClass:"margin-lr-xs"},[t._v(t._s(t.selectshop.stock||0))]),t._v("件")],1),a("v-uni-view",{staticClass:"text-sm"},[t.selectArr.join("")?a("v-uni-view",[t._v("已选择："+t._s(t.selectArr.join(" ")))]):a("v-uni-view",[t._v("請选择："),t._l(t.goodsData.spu,(function(i,n){return a("v-uni-text",{key:i.id,staticClass:"wanl-gray-light"},[0!=n?[t._v("-")]:t._e(),t._v(t._s(i.name))],2)}))],2)],1)],1),a("v-uni-view",{staticClass:"close wlIcon-31guanbi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}})],1),a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[t._l(t.goodsData.spu,(function(i,n){return a("v-uni-view",{key:i.id,staticClass:"opt text-left padding-bj solid-bottom"},[a("v-uni-view",{staticClass:"text-df"},[t._v(t._s(i.name))]),a("v-uni-view",{staticClass:"tag"},t._l(i.item,(function(i,e){return a("v-uni-view",{key:e,staticClass:"cu-tag text-sm",class:[i.ishow?"":"noactive",t.subIndex[n]==e?"active":""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.skuClick(i,n,a,e)}}},[t._v(t._s(i.name))])})),1)],1)})),a("v-uni-view",{staticClass:"number padding-bj"},[a("v-uni-view",{staticClass:"text-df"},[t._v("購买數量")]),a("uni-number-box",{attrs:{min:1,max:t.selectshop.stock,value:t.selectNum,disabled:t.canCount},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.changeNum.apply(void 0,arguments)}}})],1)],2),a("v-uni-view",{staticClass:"foot padding-lr-bj"},[t.isChoice?a("v-uni-button",{staticClass:"cu-btn bg-gradual-orange round text-bold complete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.completeSelection.apply(void 0,arguments)}}},[t._v("完成")]):[a("v-uni-button",{staticClass:"cu-btn bg-gradual-yellow round-left text-bold",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.SubmitData("addToCart",1)}}},[t._v("加入購物車")]),a("v-uni-button",{staticClass:"cu-btn bg-gradual-orange round-right text-bold",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.SubmitData("placeOrder",1)}}},[t._v("立即訂購")])]],2)],1)],1)],1)],1),a("v-uni-view",{staticClass:"wanlian cu-bar tabbar shop solid-top foot"},[a("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onShop(t.goodsData.shop_id)}}},[a("v-uni-view",{staticClass:"wlIcon-dianpu1 wanl-orange"}),t._v("店铺")],1),a("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toCart.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"wlIcon-gouwuche"},[t.cart.cartnum>0?a("v-uni-view",{staticClass:"cu-tag badge"},[t._v(t._s(t.cart.cartnum))]):t._e()],1),t._v("購物車")],1),a("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toChat(t.goodsData.shop_id,{id:t.goodsData.id,title:t.goodsData.title,image:t.goodsData.image,price:t.goodsData.price})}}},[a("v-uni-view",{staticClass:"wlIcon-kefu"},[a("v-uni-view",{staticClass:"cu-tag badge"})],1),t._v("客服")],1),a("v-uni-view",{staticClass:"btn-group"},[a("v-uni-button",{staticClass:"cu-btn bg-gradual-yellow round-left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.SubmitData("addToCart")}}},[t._v("加入購物車")]),a("v-uni-button",{staticClass:"cu-btn bg-gradual-orange round-right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.SubmitData("placeOrder")}}},[t._v("立即購买")])],1)],1)],1)},s=[]},a106:function(t,i,a){"use strict";var n=a("c702"),e=a.n(n);e.a},a806:function(t,i,a){"use strict";a.r(i);var n=a("4e53"),e=a("5187");for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);a("5aa0");var o,c=a("f0c5"),l=Object(c["a"])(e["default"],n["b"],n["c"],!1,null,"7c3d297b",null,!1,n["a"],o);i["default"]=l.exports},b85c:function(t,i,a){"use strict";a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=s;var n=e(a("06c5"));function e(t){return t&&t.__esModule?t:{default:t}}function s(t,i){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=(0,n.default)(t))||i&&t&&"number"===typeof t.length){a&&(t=a);var e=0,s=function(){};return{s:s,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==a["return"]||a["return"]()}finally{if(l)throw o}}}}},c702:function(t,i,a){var n=a("542b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=a("4f06").default;e("71816526",n,!0,{sourceMap:!1,shadowMode:!1})},c954d:function(t,i,a){var n=a("24fb");i=n(!1),i.push([t.i,"toast[data-v-368f528a],\r\nuni-toast[data-v-368f528a]{z-index:9999}.cu-custom .cu-bar .search-form[data-v-368f528a]{background-color:#fff}.cu-custom .cu-bar[data-v-368f528a]{background-color:#f3f3f3}.cu-custom .bar-bg[data-v-368f528a]{background-color:hsla(0,0%,95.3%,.96)}.cu-custom .cu-bar[data-v-368f528a]{z-index:99}\n.cu-custom .cu-bar .nav .cu-item[data-v-368f528a]{line-height:%?70?%;height:%?70?%}.swiper-box[data-v-368f528a]{position:relative;width:100%;height:100vw}.swiper-box uni-swiper[data-v-368f528a]{width:100%;height:100vw}.swiper-box uni-swiper uni-swiper-item uni-image[data-v-368f528a]{width:100%;height:100vw}.swiper-box .indicator[data-v-368f528a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?25?%;height:%?40?%;-webkit-border-radius:%?40?%;border-radius:%?40?%;font-size:%?22?%;position:absolute;bottom:%?20?%;right:%?20?%;color:#fff;background-color:rgba(0,0,0,.2)}",""]),t.exports=i},e112:function(t,i,a){var n=a("c954d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=a("4f06").default;e("fb708a5e",n,!0,{sourceMap:!1,shadowMode:!1})},e11b:function(t,i,a){var n=a("24fb");i=n(!1),i.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* solid */.uni-numbox[data-v-7c3d297b]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-border-radius:%?1000?%;border-radius:%?1000?%;padding:%?4?%;border:1px solid #f2f2f2}.uni-numbox__value[data-v-7c3d297b]{width:%?80?%;height:%?60?%;line-height:%?60?%;text-align:center;font-size:%?32?%}.uni-numbox__minus[data-v-7c3d297b]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?60?%;height:%?60?%;color:#333;background-color:#f2f2f2;-webkit-border-radius:%?1000?%;border-radius:%?1000?%;border-right-width:0}.uni-numbox__plus[data-v-7c3d297b]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?60?%;height:%?60?%;-webkit-border-radius:%?1000?%;border-radius:%?1000?%;background-color:#f2f2f2}.uni-numbox--text[data-v-7c3d297b]{font-size:%?32?%;color:#333}.uni-numbox--disabled[data-v-7c3d297b]{color:#b8b8b8}",""]),t.exports=i},e32d:function(t,i,a){"use strict";a.r(i);var n=a("9496"),e=a("2002");for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);a("298a");var o,c=a("f0c5"),l=Object(c["a"])(e["default"],n["b"],n["c"],!1,null,"368f528a",null,!1,n["a"],o);i["default"]=l.exports},ec17:function(t,i,a){"use strict";a("a9e3"),a("ac1f"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"wanlRate",props:{quantity:{type:Number,default:5},current:{type:Number,default:0},disabled:{type:Boolean,default:!1},size:{type:Number,default:16},normal:{type:String,default:"#f2f2f2"},active:{type:String,default:"#fe6600"},hollow:{type:Boolean,default:!1}},data:function(){return{pageX:0}},methods:{handleTap:function(t){if(!this.disabled){var i=t.currentTarget.dataset.index;this.$emit("change",{index:Number(i)+1})}},touchMove:function(t){if(!this.disabled&&t.changedTouches[0]){var i=t.changedTouches[0].pageX,a=i-this.pageX;if(!(a<=0)){var n=Math.ceil(a/this.size);n=n>this.count?this.count:n,this.$emit("change",{index:n})}}}},mounted:function(){var t=this,i=".wanl-rate-box",a=uni.createSelectorQuery().in(this);a.select(i).boundingClientRect((function(i){t.pageX=i.left||0})).exec()},onReady:function(){var t=this,i=".wanl-rate-box",a=uni.createSelectorQuery().in(this);a.select(i).boundingClientRect((function(i){t.pageX=i.left||0})).exec()}};i.default=n},f1834:function(t,i,a){var n=a("e11b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=a("4f06").default;e("2487a644",n,!0,{sourceMap:!1,shadowMode:!1})}}]);