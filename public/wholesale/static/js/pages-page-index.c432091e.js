(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-page-index"],{"01f5":function(n,a,e){"use strict";var t=e("b305"),i=e.n(t);i.a},"0e12":function(n,a,e){"use strict";var t=e("4ea4");e("4e82"),e("a9e3"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("96cf");var i=t(e("1da1")),r={name:"WanlShare",props:{scrollAnimation:{type:Number,default:300},shareType:{type:Number,default:0},shareTitle:{type:String,default:""},shareText:{type:String,default:""},image:{type:String,default:""},href:{type:String,default:""},isReport:{type:Boolean,default:!1}},data:function(){return{providerList:[]}},created:function(){var n=this;uni.getProvider({service:"share",success:function(a){var e=[];e.push({name:"生成海報",id:"poster",icon:"wlIcon-classify",background:"gray",sort:4},{name:"鏈接",id:"link",icon:"wlIcon-lianjie",background:"gray",sort:5}),n.isReport&&e.push({name:"舉報",id:"report",icon:"wlIcon-jubao",background:"gray",sort:6}),n.providerList=e.sort((function(n,a){return n.sort-a.sort}))},fail:function(n){uni.showModal({content:"獲取分享通道失败",showCancel:!1})}})},methods:{share:function(n){var a=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var t,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("poster"!=n.id){e.next=4;break}a.$wanlshop.to("/pages/user/qrcode/qrcode?url="+encodeURIComponent(a.href)),e.next=40;break;case 4:if("link"!=n.id){e.next=8;break}a.$wanlshop.msg("暂不支持，請手動複製"),e.next=40;break;case 8:if("report"!=n.id){e.next=12;break}a.complaint(),e.next=40;break;case 12:if(a.shareTitle||1!==a.shareType&&0!==a.shareType){e.next=15;break}return uni.showModal({content:"分享内容不能為空",showCancel:!1}),e.abrupt("return");case 15:if(a.image||2!==a.shareType&&0!==a.shareType){e.next=18;break}return uni.showModal({content:"分享图片不能為空",showCancel:!1}),e.abrupt("return");case 18:t={provider:n.id,scene:n.type&&"WXSenceTimeline"===n.type?"WXSenceTimeline":"WXSceneSession",type:a.shareType,success:function(n){uni.showModal({content:"已分享",showCancel:!1})},fail:function(n){uni.showModal({content:n.errMsg,showCancel:!1})}},e.t0=a.shareType,e.next=0===e.t0?22:1===e.t0?27:2===e.t0?29:5===e.t0?31:37;break;case 22:return t.summary=a.shareText,t.imageUrl=a.image,t.title=a.shareTitle,t.href=a.href,e.abrupt("break",38);case 27:return t.summary=a.shareText,e.abrupt("break",38);case 29:return t.imageUrl=a.image,e.abrupt("break",38);case 31:return i=getCurrentPages(),r=i[i.length-1].route,t.imageUrl=a.image?a.image:$wanlshop.appstc("/qrcode/logo.png"),t.title=a.shareTitle,t.miniProgram={id:a.$store.state.common.appConfig.mp_weixin_id,path:r,webUrl:a.href,type:0},e.abrupt("break",38);case 37:return e.abrupt("break",38);case 38:1===t.type&&"qq"===t.provider&&(t.href=a.href,t.title=a.shareTitle),uni.share(t);case 40:a.close();case 41:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("change")},complaint:function(){this.$emit("change","complaint")}}};a.default=r},"10cf":function(n,a,e){"use strict";e.r(a);var t=e("0e12"),i=e.n(t);for(var r in t)"default"!==r&&function(n){e.d(a,n,(function(){return t[n]}))}(r);a["default"]=i.a},"5b6c":function(n,a,e){"use strict";e.r(a);var t=e("ce64"),i=e("682c");for(var r in i)"default"!==r&&function(n){e.d(a,n,(function(){return i[n]}))}(r);var o,l=e("f0c5"),s=Object(l["a"])(i["default"],t["b"],t["c"],!1,null,"28d73e7f",null,!1,t["a"],o);a["default"]=s.exports},"62b0":function(n,a,e){"use strict";e.r(a);var t=e("fbcc"),i=e("10cf");for(var r in i)"default"!==r&&function(n){e.d(a,n,(function(){return i[n]}))}(r);e("01f5");var o,l=e("f0c5"),s=Object(l["a"])(i["default"],t["b"],t["c"],!1,null,"2d0b51c7",null,!1,t["a"],o);a["default"]=s.exports},"682c":function(n,a,e){"use strict";e.r(a);var t=e("b492"),i=e.n(t);for(var r in t)"default"!==r&&function(n){e.d(a,n,(function(){return t[n]}))}(r);a["default"]=i.a},"88d3":function(n,a,e){var t=e("24fb");a=t(!1),a.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 分享 */.wanl-share[data-v-2d0b51c7]{min-height:%?50?%;padding-bottom:0;padding-bottom:env(safe-area-inset-bottom)}.wanl-share .head[data-v-2d0b51c7]{padding:%?25?% %?25?% %?10?% %?25?%}.wanl-share .head .content[data-v-2d0b51c7]{-webkit-box-pack:left;-webkit-justify-content:left;justify-content:left;margin-left:%?16?%}.wanl-share .scroll-x[data-v-2d0b51c7]{white-space:nowrap;width:100%;padding:%?32?% 0;text-align:left;height:%?250?%}.wanl-share .scroll-x .scroll-item[data-v-2d0b51c7]{display:inline-block;font-size:%?36?%;margin-left:%?36?%;text-align:center}.wanl-share .scroll-x .scroll-item uni-button[data-v-2d0b51c7]{line-height:1;background-color:transparent;border:0;padding:0}.wanl-share .scroll-x .scroll-item uni-button[data-v-2d0b51c7]:after{border:0}.wanl-share .scroll-x .scroll-item[data-v-2d0b51c7]:last-child{margin-right:%?36?%}.wanl-share .scroll-x .scroll-item .icons[data-v-2d0b51c7]{width:%?100?%;height:%?100?%;line-height:%?100?%;-webkit-border-radius:%?9999?%;border-radius:%?9999?%;margin:0 auto;font-size:%?40?%;display:block}.wanl-share .scroll-x .scroll-item .icons.gray[data-v-2d0b51c7]{color:#606060;background-color:#f5f5f5}.wanl-share .scroll-x .scroll-item .icons.red[data-v-2d0b51c7]{color:#fff;background-color:#e6162c}.wanl-share .scroll-x .scroll-item .icons.blue[data-v-2d0b51c7]{color:#fff;background-color:#3e92e8}.wanl-share .scroll-x .scroll-item .project[data-v-2d0b51c7]{margin-top:%?25?%}.wanl-share .footer[data-v-2d0b51c7]{height:%?90?%;line-height:%?90?%;font-size:%?30?%}",""]),n.exports=a},b305:function(n,a,e){var t=e("88d3");"string"===typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);var i=e("4f06").default;i("2c3938f3",t,!0,{sourceMap:!1,shadowMode:!1})},b492:function(n,a,e){"use strict";var t=e("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("96cf");var i=t(e("1da1")),r=t(e("5530")),o=e("2f62"),l={data:function(){return{pageId:null,itemData:[],pageData:{params:{navigationBarTitleText:"加載中..",share_title:"分享"},style:{}},wanlsys:this.$wanlshop.wanlsys(),modalName:"",scrollAnimation:300}},computed:(0,r.default)({},(0,o.mapState)(["common"])),onLoad:function(n){this.pageId=n.id,this.loadData(n)},onShow:function(){var n=this;setTimeout((function(){uni.setNavigationBarColor({frontColor:n.pageData.style.navigationBarTextStyle,backgroundColor:n.pageData.style.navigationBarBackgroundColor})}),200)},methods:{loadData:function(n){var a=this;return(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.$api.get({url:"/wanlshop/page/index",data:n,success:function(n){a.itemData=n.item,a.pageData=n.page,a.$wanlshop.title(n.page.params.navigationBarTitleText,{frontColor:n.page.style.navigationBarTextStyle,backgroundColor:n.page.style.navigationBarBackgroundColor})}});case 1:case"end":return e.stop()}}),e)})))()},showModal:function(n){var a=this;setTimeout((function(){a.scrollAnimation=0}),300),this.modalName=n},hideModal:function(){this.modalName=null}}};a.default=l},ce64:function(n,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return t}));var t={wanlPageBanner:e("e28a").default,wanlPageImage:e("f6e9").default,wanlPageVideo:e("0d68").default,wanlPageMenu:e("acba").default,wanlPageNotice:e("55be").default,wanlPageArticle:e("77d5").default,wanlPageHeadlines:e("bad0").default,wanlPageSearch:e("71f5").default,wanlPageActivity:e("c7b2").default,wanlPageCategoryTitle:e("0e6f").default,wanlPageClassify:e("5f88").default,wanlPageLikes:e("37d2").default,wanlPageGoods:e("feaf").default,wanlPageBargain:e("26cf").default,wanlPageSeckill:e("127e").default,wanlPageEmpty:e("b987").default,wanlPageDivision:e("1d0d").default,wanlShare:e("62b0").default},i=function(){var n=this,a=n.$createElement,e=n._self._c||a;return e("v-uni-view",{staticClass:"wanl-page",style:{backgroundColor:n.pageData.style.pageBackgroundColor,backgroundSize:"100% auto",backgroundImage:"url("+n.$wanlshop.oss(n.pageData.style.pageBackgroundImage,0,50,1,"transparent","png")+")"}},[e("v-uni-view",{staticClass:"cu-custom",style:{height:n.wanlsys.height+"px"}},[e("v-uni-view",{staticClass:"cu-bar fixed",style:{height:n.wanlsys.height+"px",paddingTop:n.wanlsys.top+"px",color:"#ffffff"==n.pageData.style.navigationBarTextStyle?"#ffffff":"#333333",backgroundColor:n.pageData.style.navigationBarBackgroundColor,backgroundImage:"url("+n.$wanlshop.oss(n.pageData.style.navigationBackgroundImage,414,0,1,"transparent","png")+")"}},[e("v-uni-view",{staticClass:"action",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.$wanlshop.back(1)}}},[e("v-uni-text",{staticClass:"wlIcon-fanhui1"})],1),e("v-uni-view",{staticClass:"content",style:{top:n.wanlsys.top+"px"}},[n._v(n._s(n.pageData.params.navigationBarTitleText))]),e("v-uni-view",{staticClass:"action",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.showModal("share")}}},[e("v-uni-text",{staticClass:"wlIcon wlIcon-fenxiang"})],1)],1)],1),n._l(n.itemData,(function(a,t){return e("v-uni-view",{key:a.type},["banner"==a.type?e("v-uni-view",[e("wanl-page-banner",{attrs:{pageData:a}})],1):n._e(),"image"==a.type?e("v-uni-view",[e("wanl-page-image",{attrs:{pageData:a}})],1):n._e(),"video"==a.type?e("v-uni-view",[e("wanl-page-video",{attrs:{pageData:a}})],1):n._e(),"menu"==a.type?e("v-uni-view",[e("wanl-page-menu",{attrs:{pageData:a}})],1):n._e(),"notice"==a.type?e("v-uni-view",[e("wanl-page-notice",{attrs:{pageData:a}})],1):n._e(),"article"==a.type?e("v-uni-view",[e("wanl-page-article",{attrs:{pageData:a}})],1):n._e(),"headlines"==a.type?e("v-uni-view",[e("wanl-page-headlines",{attrs:{pageData:a}})],1):n._e(),"search"==a.type?e("v-uni-view",[e("wanl-page-search",{attrs:{pageData:a}})],1):n._e(),"activity"==a.type?e("v-uni-view",[e("wanl-page-activity",{attrs:{pageData:a}})],1):n._e(),"categoryTitle"==a.type?e("v-uni-view",[e("wanl-page-category-title",{attrs:{pageData:a}})],1):n._e(),"classify"==a.type?e("v-uni-view",[e("wanl-page-classify",{attrs:{pageData:a}})],1):n._e(),"likes"==a.type?e("v-uni-view",[e("wanl-page-likes",{attrs:{pageData:a}})],1):n._e(),"goods"==a.type?e("v-uni-view",[e("wanl-page-goods",{attrs:{pageData:a}})],1):n._e(),"bargain"==a.type?e("v-uni-view",[e("wanl-page-bargain",{attrs:{pageData:a}})],1):n._e(),"seckill"==a.type?e("v-uni-view",[e("wanl-page-seckill",{attrs:{pageData:a}})],1):n._e(),"empty"==a.type?e("v-uni-view",[e("wanl-page-empty",{attrs:{pageData:a}})],1):n._e(),"division"==a.type?e("v-uni-view",[e("wanl-page-division",{attrs:{pageData:a}})],1):n._e()],1)})),e("v-uni-view",{staticClass:"edgeInsetBottom"}),e("v-uni-view",{staticClass:"WANL-MODAL"},[e("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"share"==n.modalName?"show":"",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.hideModal.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cu-dialog",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a)}}},[e("wanl-share",{attrs:{scrollAnimation:n.scrollAnimation,shareTitle:n.pageData.params.share_title,shareText:n.pageData.params.navigationBarTitleText,image:n.$wanlshop.appstc("/common/logo.png"),href:n.common.appConfig.domain+"/pages/page/index?id="+n.pageId+"&QRtype=page"},on:{change:function(a){arguments[0]=a=n.$handleEvent(a),n.hideModal.apply(void 0,arguments)}}})],1)],1)],1)],2)},r=[]},fbcc:function(n,a,e){"use strict";var t;e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return t}));var i=function(){var n=this,a=n.$createElement,e=n._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"wanl-share"},[e("v-uni-view",{staticClass:"head"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"text-lg"},[n._v("分享到")])],1)],1),e("v-uni-scroll-view",{staticClass:"scroll-x solid-bottom",attrs:{"scroll-x":"true","show-scrollbar":"false","scroll-left":n.scrollAnimation,"scroll-with-animation":!0}},n._l(n.providerList,(function(a,t){return a?e("v-uni-view",{key:t,staticClass:"scroll-item",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.share(a)}}},[e("v-uni-view",{staticClass:"icons",class:a.background},[e("v-uni-text",{class:a.icon})],1),e("v-uni-view",{staticClass:"project text-sm"},[e("v-uni-text",[n._v(n._s(a.name))])],1)],1):n._e()})),1),e("v-uni-view",{staticClass:"footer",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.close.apply(void 0,arguments)}}},[e("v-uni-text",[n._v("取消")])],1)],1)],1)},r=[]}}]);